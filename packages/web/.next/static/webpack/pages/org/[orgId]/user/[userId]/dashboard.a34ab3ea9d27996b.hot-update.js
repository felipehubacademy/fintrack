"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/org/[orgId]/user/[userId]/dashboard",{

/***/ "./components/TransactionModal.jsx":
/*!*****************************************!*\
  !*** ./components/TransactionModal.jsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.a(module, async function (__webpack_handle_async_dependencies__, __webpack_async_result__) { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TransactionModal; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"../../node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/supabaseClient */ \"./lib/supabaseClient.js\");\n/* harmony import */ var _hooks_useOrganization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useOrganization */ \"./hooks/useOrganization.js\");\n/* harmony import */ var _ui_Card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/Card */ \"./components/ui/Card.jsx\");\n/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui/Button */ \"./components/ui/Button.jsx\");\n/* harmony import */ var _barrel_optimize_names_User_Users_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=User,Users,X!=!lucide-react */ \"__barrel_optimize__?names=User,Users,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _contexts_NotificationContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../contexts/NotificationContext */ \"./contexts/NotificationContext.jsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/utils */ \"./lib/utils.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__, _hooks_useOrganization__WEBPACK_IMPORTED_MODULE_3__]);\n([_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__, _hooks_useOrganization__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Helper: Agregar splits por cost_center_id para evitar duplicatas\nconst aggregateSplits = (splits)=>{\n    if (!splits || splits.length === 0) return [];\n    const aggregated = Object.values(splits.reduce((acc, split)=>{\n        const id = split.cost_center_id;\n        if (!id) return acc;\n        if (!acc[id]) {\n            acc[id] = {\n                cost_center_id: id,\n                name: split.name,\n                color: split.color,\n                percentage: 0,\n                amount: 0\n            };\n        }\n        acc[id].percentage += Number(split.percentage) || 0;\n        acc[id].amount += Number(split.amount) || 0;\n        return acc;\n    }, {}));\n    console.log(\"\\uD83D\\uDD0D [aggregateSplits] Input:\", splits.length, \"→ Output:\", aggregated.length);\n    return aggregated;\n};\nfunction TransactionModal(param) {\n    let { isOpen, onClose, onSuccess, editingTransaction = null, categories = [] } = param;\n    _s();\n    const { organization, user: orgUser, costCenters, incomeCategories, budgetCategories, isSoloUser, loading: orgLoading } = (0,_hooks_useOrganization__WEBPACK_IMPORTED_MODULE_3__.useOrganization)();\n    const { success, error: showError, warning } = (0,_contexts_NotificationContext__WEBPACK_IMPORTED_MODULE_6__.useNotificationContext)();\n    const [cards, setCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        description: \"\",\n        amount: \"\",\n        date: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.getBrazilTodayString)(),\n        category_id: \"\",\n        owner_name: \"\",\n        payment_method: \"cash\",\n        card_id: \"\",\n        installments: 1\n    });\n    // Wrapper para setSplitDetails que garante unicidade por cost_center_id\n    const [splitDetailsRaw, setSplitDetailsRaw] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const setSplitDetails = (newSplits)=>{\n        const splits = typeof newSplits === \"function\" ? newSplits(splitDetailsRaw) : newSplits;\n        const deduplicated = aggregateSplits(splits);\n        setSplitDetailsRaw(deduplicated);\n    };\n    const splitDetails = splitDetailsRaw;\n    const [showSplitConfig, setShowSplitConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const userCostCenter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!costCenters || !orgUser) return null;\n        return costCenters.find((cc)=>cc.user_id === orgUser.id && cc.is_active !== false) || null;\n    }, [\n        costCenters,\n        orgUser\n    ]);\n    const isCredit = form.payment_method === \"credit_card\";\n    // Verificar se é compartilhado: se owner_name for o nome da família\n    const isShared = !isSoloUser && form.owner_name === ((organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (editingTransaction) {\n            var _editingTransaction_cost_center;\n            // Para expenses, encontrar o nome correspondente em costCenters\n            // para garantir que o valor corresponda exatamente ao dropdown\n            const rawOwnerName = ((_editingTransaction_cost_center = editingTransaction.cost_center) === null || _editingTransaction_cost_center === void 0 ? void 0 : _editingTransaction_cost_center.name) || editingTransaction.owner || (editingTransaction.is_shared ? (organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\" : \"\");\n            // Buscar o nome correspondente usando costCenters diretamente\n            let ownerName = rawOwnerName;\n            if (rawOwnerName) {\n                // Função de normalização\n                const normalize = (str)=>(str || \"\").toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n                // Buscar em costCenters\n                const matchingCenter = costCenters === null || costCenters === void 0 ? void 0 : costCenters.find((cc)=>{\n                    const normalizedCC = normalize(cc.name);\n                    const normalizedRaw = normalize(rawOwnerName);\n                    return normalizedCC === normalizedRaw;\n                });\n                if (matchingCenter) {\n                    ownerName = matchingCenter.name;\n                } else if (editingTransaction.is_shared || normalize(rawOwnerName) === normalize((organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\")) {\n                    // Se for compartilhado, usar o nome exato da família\n                    ownerName = (organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\";\n                }\n            }\n            // Se for parcela de cartão, usar o valor total da compra e número total de parcelas\n            let amountToShow = editingTransaction.amount;\n            let installmentsToShow = 1;\n            let dateToShow = editingTransaction.date;\n            if (editingTransaction.installment_info) {\n                if (editingTransaction.installment_info.total_amount) {\n                    amountToShow = editingTransaction.installment_info.total_amount;\n                }\n                if (editingTransaction.installment_info.total_installments) {\n                    installmentsToShow = editingTransaction.installment_info.total_installments;\n                }\n            }\n            // Se for parcela, buscar a data da primeira parcela\n            const fetchFirstDate = async ()=>{\n                if (editingTransaction.parent_expense_id || editingTransaction.installment_info) {\n                    const parentId = editingTransaction.parent_expense_id === editingTransaction.id ? editingTransaction.id : editingTransaction.parent_expense_id;\n                    const { data: allInstallments, error: fetchInstallmentsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").select(\"id, date\").or(\"id.eq.\".concat(parentId, \",parent_expense_id.eq.\").concat(parentId)).order(\"id\", {\n                        ascending: true\n                    }).limit(1);\n                    if (!fetchInstallmentsError && allInstallments && allInstallments.length > 0) {\n                        return allInstallments[0].date;\n                    }\n                }\n                return dateToShow;\n            };\n            fetchFirstDate().then((firstDate)=>{\n                setForm({\n                    description: editingTransaction.description || \"\",\n                    amount: (amountToShow === null || amountToShow === void 0 ? void 0 : amountToShow.toString()) || \"\",\n                    date: firstDate || (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.getBrazilTodayString)(),\n                    category_id: editingTransaction.category_id || \"\",\n                    owner_name: ownerName,\n                    payment_method: editingTransaction.payment_method || \"cash\",\n                    card_id: editingTransaction.card_id || \"\",\n                    installments: installmentsToShow\n                });\n            });\n            if (editingTransaction.expense_splits) {\n                setSplitDetails(editingTransaction.expense_splits);\n                setShowSplitConfig(true);\n            }\n        } else {\n            resetForm();\n        }\n    }, [\n        editingTransaction,\n        isOpen,\n        costCenters,\n        organization\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const load = async ()=>{\n            if ((organization === null || organization === void 0 ? void 0 : organization.id) && organization.id !== \"default-org\") {\n                // Carregar cartões\n                const { data: cardsData } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"cards\").select(\"*\").eq(\"organization_id\", organization.id).eq(\"is_active\", true).order(\"name\");\n                setCards(cardsData || []);\n            } else {\n                setCards([]);\n            }\n        };\n        load();\n    }, [\n        isOpen,\n        organization\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isSoloUser || !userCostCenter) return;\n        setForm((prev)=>{\n            if (prev.owner_name === userCostCenter.name) {\n                return prev;\n            }\n            return {\n                ...prev,\n                owner_name: userCostCenter.name || prev.owner_name\n            };\n        });\n    }, [\n        isSoloUser,\n        userCostCenter,\n        userCostCenter === null || userCostCenter === void 0 ? void 0 : userCostCenter.name,\n        isOpen\n    ]);\n    const expenseCategories = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (categories && categories.length > 0) {\n            return categories;\n        }\n        return (budgetCategories || []).filter((cat)=>cat.type === \"expense\" || cat.type === \"both\");\n    }, [\n        categories,\n        budgetCategories\n    ]);\n    const ownerOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (isSoloUser) {\n            return userCostCenter ? [\n                {\n                    id: userCostCenter.id,\n                    name: userCostCenter.name,\n                    default_split_percentage: userCostCenter.default_split_percentage,\n                    color: userCostCenter.color,\n                    user_id: userCostCenter.user_id,\n                    linked_email: userCostCenter.linked_email\n                }\n            ] : [];\n        }\n        const allCenters = (costCenters || []).filter((cc)=>cc.is_active !== false).map((cc)=>({\n                id: cc.id,\n                name: cc.name,\n                default_split_percentage: cc.default_split_percentage,\n                color: cc.color,\n                user_id: cc.user_id,\n                linked_email: cc.linked_email\n            }));\n        allCenters.push({\n            id: null,\n            name: (organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\",\n            default_split_percentage: 0,\n            color: \"#8B5CF6\",\n            isShared: true\n        });\n        return allCenters;\n    }, [\n        costCenters,\n        organization,\n        isSoloUser,\n        userCostCenter\n    ]);\n    // Inicializar splits quando selecionar organização/compartilhado\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isShared && splitDetails.length === 0 && costCenters && costCenters.length > 0) {\n            const activeCenters = (costCenters || []).filter((cc)=>cc.is_active !== false && cc.user_id);\n            if (activeCenters.length > 0) {\n                const defaultSplits = activeCenters.map((cc)=>({\n                        cost_center_id: cc.id,\n                        name: cc.name,\n                        color: cc.color,\n                        percentage: parseFloat(cc.default_split_percentage || 0),\n                        amount: 0\n                    }));\n                setSplitDetails(defaultSplits);\n                console.log(\"\\uD83D\\uDD0D [TRANSACTION MODAL] Organiza\\xe7\\xe3o/compartilhado selecionado, splits inicializados:\", defaultSplits.length);\n            }\n        } else if (!isShared) {\n            setSplitDetails([]);\n            setShowSplitConfig(false);\n        }\n    }, [\n        isShared,\n        costCenters,\n        form.owner_name,\n        organization === null || organization === void 0 ? void 0 : organization.name\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isShared && form.amount && splitDetails.length > 0) {\n            const totalAmount = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount) || 0;\n            const updatedSplits = splitDetails.map((split)=>({\n                    ...split,\n                    amount: totalAmount * split.percentage / 100\n                }));\n            setSplitDetails(updatedSplits);\n        }\n    }, [\n        form.amount,\n        isShared,\n        splitDetails.length\n    ]);\n    const totalPercentage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return splitDetails.reduce((sum, split)=>sum + (parseFloat(split.percentage) || 0), 0);\n    }, [\n        splitDetails\n    ]);\n    const updateSplitPercentage = (index, newPercentage)=>{\n        const totalAmount = parseFloat(form.amount) || 0;\n        setSplitDetails((prev)=>prev.map((split, i)=>i === index ? {\n                    ...split,\n                    percentage: newPercentage,\n                    amount: totalAmount * newPercentage / 100\n                } : split));\n    };\n    const resetToDefaultSplit = ()=>{\n        const totalAmount = parseFloat(form.amount) || 0;\n        const activeCenters = (costCenters || []).filter((cc)=>cc.is_active !== false && cc.user_id);\n        const defaultSplits = activeCenters.map((cc)=>({\n                cost_center_id: cc.id,\n                name: cc.name,\n                color: cc.color,\n                percentage: parseFloat(cc.default_split_percentage || 0),\n                amount: totalAmount * parseFloat(cc.default_split_percentage || 0) / 100\n            }));\n        setSplitDetails(defaultSplits);\n        setShowSplitConfig(false);\n    };\n    const resetForm = ()=>{\n        setForm({\n            description: \"\",\n            amount: \"\",\n            date: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.getBrazilTodayString)(),\n            category_id: \"\",\n            owner_name: isSoloUser && userCostCenter ? userCostCenter.name : \"\",\n            payment_method: \"cash\",\n            card_id: \"\",\n            installments: 1\n        });\n        setSplitDetails([]);\n        setShowSplitConfig(false);\n    };\n    const isFormValid = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var _form_description;\n        const hasBasic = Boolean(((_form_description = form.description) === null || _form_description === void 0 ? void 0 : _form_description.trim()) && form.amount && form.date && form.owner_name && form.payment_method);\n        if (!hasBasic) return false;\n        const amountValue = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount);\n        if (amountValue <= 0) return false;\n        if (!form.category_id) return false;\n        if (isCredit && (!form.card_id || !form.installments)) return false;\n        if (isShared) {\n            if (!splitDetails.length) return false;\n            if (Math.abs(totalPercentage - 100) > 0.01) return false;\n        }\n        return true;\n    }, [\n        form.description,\n        form.amount,\n        form.date,\n        form.owner_name,\n        form.payment_method,\n        form.category_id,\n        form.card_id,\n        form.installments,\n        isCredit,\n        isShared,\n        splitDetails,\n        totalPercentage\n    ]);\n    const handleSave = async ()=>{\n        if (!(organization === null || organization === void 0 ? void 0 : organization.id) || !(orgUser === null || orgUser === void 0 ? void 0 : orgUser.id)) {\n            showError(\"Fam\\xedlia ou usu\\xe1rio n\\xe3o encontrados\");\n            return;\n        }\n        if (!form.description || !form.amount || !form.date) {\n            warning(\"Preencha todos os campos obrigat\\xf3rios\");\n            return;\n        }\n        if (!form.owner_name) {\n            warning(\"Selecione um respons\\xe1vel\");\n            return;\n        }\n        if (!form.category_id) {\n            warning(\"Selecione uma categoria\");\n            return;\n        }\n        // Recalcular isShared antes de salvar (pode ter mudado)\n        const willBeShared = !isSoloUser && form.owner_name === ((organization === null || organization === void 0 ? void 0 : organization.name) || \"Fam\\xedlia\");\n        // Validar splits se for compartilhado\n        if (willBeShared && splitDetails.length === 0) {\n            warning(\"\\xc9 necess\\xe1rio configurar a divis\\xe3o da despesa compartilhada\");\n            return;\n        }\n        if (willBeShared && totalPercentage !== 100) {\n            warning(\"A divis\\xe3o deve somar exatamente 100%. Atual: \".concat(totalPercentage, \"%\"));\n            return;\n        }\n        setSaving(true);\n        try {\n            // Salvar como despesa\n            const selectedOption = ownerOptions.find((o)=>o.name === form.owner_name);\n            const category = expenseCategories.find((c)=>c.id === form.category_id);\n            if (!category) {\n                warning(\"Categoria inv\\xe1lida. Atualize a p\\xe1gina e tente novamente.\");\n                return;\n            }\n            if (!selectedOption) {\n                throw new Error(\"Respons\\xe1vel inv\\xe1lido\");\n            }\n            const isOptionShared = selectedOption.isShared || willBeShared;\n            const costCenter = isOptionShared ? null : selectedOption;\n            console.log(\"\\uD83D\\uDCBE [TRANSACTION MODAL] Salvando expense:\", {\n                owner_name: form.owner_name,\n                organization_name: organization === null || organization === void 0 ? void 0 : organization.name,\n                willBeShared,\n                isOptionShared,\n                cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null,\n                splitDetails_count: splitDetails.length,\n                editingTransaction: !!editingTransaction\n            });\n            // Verificar se está editando uma parcela existente\n            const isExistingInstallment = editingTransaction && (editingTransaction.parent_expense_id || editingTransaction.installment_info);\n            const wasCredit = (editingTransaction === null || editingTransaction === void 0 ? void 0 : editingTransaction.payment_method) === \"credit_card\";\n            if (isCredit && wasCredit && isExistingInstallment) {\n                // Atualizar parcelas existentes\n                if (!form.card_id) throw new Error(\"Cart\\xe3o de cr\\xe9dito \\xe9 obrigat\\xf3rio\");\n                // Buscar o parent_expense_id correto\n                const parentId = editingTransaction.parent_expense_id === editingTransaction.id ? editingTransaction.id : editingTransaction.parent_expense_id;\n                // Verificar quantas parcelas existem atualmente\n                const { data: currentInstallments, error: countError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").select(\"id\").or(\"id.eq.\".concat(parentId, \",parent_expense_id.eq.\").concat(parentId));\n                if (countError) throw countError;\n                const currentInstallmentCount = (currentInstallments === null || currentInstallments === void 0 ? void 0 : currentInstallments.length) || 0;\n                const newInstallmentCount = Number(form.installments);\n                // Buscar a data da primeira parcela original para comparar\n                const firstInstallment = currentInstallments.reduce((min, curr)=>curr.id < min.id ? curr : min, currentInstallments[0]);\n                const { data: firstInstallmentData, error: fetchFirstError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").select(\"date\").eq(\"id\", firstInstallment.id).single();\n                if (fetchFirstError) throw fetchFirstError;\n                const originalFirstDate = firstInstallmentData.date;\n                const dateChanged = originalFirstDate !== form.date;\n                console.log(\"\\uD83D\\uDD0D [TRANSACTION MODAL] Parcelas atuais:\", currentInstallmentCount, \"Novas:\", newInstallmentCount);\n                console.log(\"\\uD83D\\uDCC5 [TRANSACTION MODAL] Data original:\", originalFirstDate, \"Nova:\", form.date, \"Mudou?\", dateChanged);\n                // Se o número de parcelas mudou OU a data mudou, recriar o grupo\n                if (currentInstallmentCount !== newInstallmentCount || dateChanged) {\n                    const reason = dateChanged && currentInstallmentCount !== newInstallmentCount ? \"N\\xfamero de parcelas E data mudaram\" : dateChanged ? \"Data mudou\" : \"N\\xfamero de parcelas mudou\";\n                    console.log(\"\\uD83D\\uDD04 [TRANSACTION MODAL] \".concat(reason, \"! Recriando grupo...\"));\n                    // Deletar todas as parcelas antigas\n                    const { error: deleteError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").delete().or(\"id.eq.\".concat(parentId, \",parent_expense_id.eq.\").concat(parentId));\n                    if (deleteError) {\n                        console.error(\"❌ [TRANSACTION MODAL] Erro ao deletar parcelas antigas:\", deleteError);\n                        throw deleteError;\n                    }\n                    // Criar novas parcelas via RPC usando a data escolhida pelo usuário\n                    const ownerForRPC = willBeShared ? form.owner_name : form.owner_name;\n                    const { data: parentExpenseId, error: rpcError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.rpc(\"create_installments\", {\n                        p_amount: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount),\n                        p_installments: newInstallmentCount,\n                        p_description: form.description.trim(),\n                        p_date: form.date,\n                        p_card_id: form.card_id,\n                        p_category_id: (category === null || category === void 0 ? void 0 : category.id) || null,\n                        p_cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null,\n                        p_owner: ownerForRPC,\n                        p_organization_id: organization.id,\n                        p_user_id: orgUser.id,\n                        p_whatsapp_message_id: null,\n                        p_split_template: null\n                    });\n                    if (rpcError) {\n                        console.error(\"❌ [TRANSACTION MODAL] Erro ao criar novas parcelas:\", rpcError);\n                        throw rpcError;\n                    }\n                    console.log(\"✅ [TRANSACTION MODAL] Novas parcelas criadas:\", parentExpenseId);\n                    // Inserir splits se necessário\n                    if (willBeShared && splitDetails.length > 0) {\n                        const { data: newInstallments, error: fetchError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").select(\"id\").or(\"id.eq.\".concat(parentExpenseId, \",parent_expense_id.eq.\").concat(parentExpenseId));\n                        if (fetchError) throw fetchError;\n                        const splitsToInsert = newInstallments.flatMap((installment)=>splitDetails.map((split)=>({\n                                    expense_id: installment.id,\n                                    cost_center_id: split.cost_center_id,\n                                    percentage: split.percentage,\n                                    amount: split.amount / newInstallmentCount\n                                })));\n                        const { error: splitError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").insert(splitsToInsert);\n                        if (splitError) {\n                            console.error(\"❌ [TRANSACTION MODAL] Erro ao inserir splits:\", splitError);\n                            throw splitError;\n                        }\n                    }\n                    console.log(\"✅ [TRANSACTION MODAL] Grupo de parcelas recriado com sucesso\");\n                } else {\n                    // Número de parcelas não mudou, apenas atualizar\n                    console.log(\"\\uD83D\\uDD04 [TRANSACTION MODAL] Atualizando parcelas existentes do grupo\");\n                    // Usar função RPC para atualizar parcelas (bypassa RLS)\n                    const { data: updateResult, error: updateError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.rpc(\"update_installment_group\", {\n                        p_parent_expense_id: parentId,\n                        p_description: form.description.trim(),\n                        p_category_id: (category === null || category === void 0 ? void 0 : category.id) || null,\n                        p_card_id: form.card_id,\n                        p_owner: form.owner_name.trim(),\n                        p_cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null,\n                        p_is_shared: willBeShared,\n                        p_total_amount: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount),\n                        p_organization_id: organization.id,\n                        p_user_id: orgUser.id\n                    });\n                    if (updateError) {\n                        console.error(\"❌ [TRANSACTION MODAL] Erro ao atualizar parcelas:\", updateError);\n                        throw updateError;\n                    }\n                    console.log(\"✅ [TRANSACTION MODAL] Parcelas atualizadas via RPC:\", updateResult);\n                    // Atualizar splits se necessário\n                    if (willBeShared) {\n                        var _updateResult_;\n                        const installmentIds = ((_updateResult_ = updateResult[0]) === null || _updateResult_ === void 0 ? void 0 : _updateResult_.installment_ids) || [];\n                        if (installmentIds.length > 0) {\n                            // Deletar splits antigos\n                            const { error: deleteSplitsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").delete().in(\"expense_id\", installmentIds);\n                            if (deleteSplitsError) {\n                                console.warn(\"⚠️ [TRANSACTION MODAL] Erro ao deletar splits antigos:\", deleteSplitsError);\n                            }\n                            if (splitDetails.length > 0) {\n                                const splitsToInsert = installmentIds.flatMap((installmentId)=>splitDetails.map((split)=>({\n                                            expense_id: installmentId,\n                                            cost_center_id: split.cost_center_id,\n                                            percentage: split.percentage,\n                                            amount: split.amount / installmentIds.length\n                                        })));\n                                const { error: insertSplitsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").insert(splitsToInsert);\n                                if (insertSplitsError) {\n                                    console.error(\"❌ [TRANSACTION MODAL] Erro ao inserir splits:\", insertSplitsError);\n                                    throw insertSplitsError;\n                                }\n                            }\n                        }\n                    }\n                    console.log(\"✅ [TRANSACTION MODAL] Parcelas e splits atualizados com sucesso\");\n                }\n            } else if (isCredit && (!editingTransaction || !wasCredit || !isExistingInstallment)) {\n                // Criar novas parcelas (novo ou convertendo para cartão)\n                if (!form.card_id || !form.installments) throw new Error(\"Cart\\xe3o e parcelas s\\xe3o obrigat\\xf3rios\");\n                console.log(\"\\uD83D\\uDD04 [TRANSACTION MODAL] Criando novas parcelas\");\n                const ownerForRPC = willBeShared ? form.owner_name : form.owner_name;\n                console.log(\"\\uD83D\\uDCBE [TRANSACTION MODAL] Criando parcelas:\", {\n                    amount: form.amount,\n                    installments: form.installments,\n                    card_id: form.card_id,\n                    ownerForRPC,\n                    willBeShared,\n                    cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null\n                });\n                const { data: parentExpenseId, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.rpc(\"create_installments\", {\n                    p_amount: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount),\n                    p_installments: Number(form.installments),\n                    p_description: form.description.trim(),\n                    p_date: form.date,\n                    p_card_id: form.card_id,\n                    p_category_id: (category === null || category === void 0 ? void 0 : category.id) || null,\n                    p_cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null,\n                    p_owner: ownerForRPC,\n                    p_organization_id: organization.id,\n                    p_user_id: orgUser.id,\n                    p_whatsapp_message_id: null,\n                    p_split_template: null\n                });\n                if (error) {\n                    console.error(\"❌ [TRANSACTION MODAL] Erro ao criar parcelas:\", error);\n                    throw error;\n                }\n                console.log(\"✅ [TRANSACTION MODAL] Installments created, parent_expense_id:\", parentExpenseId);\n                // Atualizar o owner se necessário\n                if (willBeShared && ownerForRPC !== form.owner_name) {\n                    const { error: updateError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").update({\n                        owner: form.owner_name.trim(),\n                        is_shared: true\n                    }).or(\"id.eq.\".concat(parentExpenseId, \",parent_expense_id.eq.\").concat(parentExpenseId));\n                    if (updateError) {\n                        console.error(\"⚠️ [TRANSACTION MODAL] Erro ao atualizar owner das parcelas:\", updateError);\n                    } else {\n                        console.log(\"✅ [TRANSACTION MODAL] Owner atualizado para:\", form.owner_name);\n                    }\n                }\n                // Se estava editando, deletar a transação antiga\n                if (editingTransaction) {\n                    if (isExistingInstallment) {\n                        // Deletar todas as parcelas do grupo antigo\n                        const oldParentId = editingTransaction.parent_expense_id === editingTransaction.id ? editingTransaction.id : editingTransaction.parent_expense_id;\n                        await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").delete().or(\"id.eq.\".concat(oldParentId, \",parent_expense_id.eq.\").concat(oldParentId));\n                    } else {\n                        // Deletar despesa simples\n                        await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").delete().eq(\"id\", editingTransaction.id);\n                    }\n                }\n                // Atualizar available_limit do cartão\n                if (form.card_id) {\n                    try {\n                        const { data: card } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"cards\").select(\"available_limit, credit_limit\").eq(\"id\", form.card_id).single();\n                        if (card) {\n                            const currentAvailable = parseFloat(card.available_limit || card.credit_limit || 0);\n                            const oldAmount = editingTransaction ? Number(editingTransaction.amount || 0) : 0;\n                            const amountChange = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount) - oldAmount;\n                            const newAvailable = Math.max(0, currentAvailable - amountChange);\n                            await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"cards\").update({\n                                available_limit: newAvailable\n                            }).eq(\"id\", form.card_id);\n                            console.log(\"✅ [TRANSACTION MODAL] Updated card available_limit:\", newAvailable);\n                        }\n                    } catch (cardUpdateError) {\n                        console.error(\"⚠️ Erro ao atualizar limite dispon\\xedvel do cart\\xe3o:\", cardUpdateError);\n                    }\n                }\n                // Inserir splits para todas as parcelas\n                if (willBeShared && splitDetails.length > 0) {\n                    console.log(\"\\uD83D\\uDD0D [TRANSACTION MODAL] Inserindo splits para todas as parcelas...\");\n                    const { data: allInstallments, error: fetchError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").select(\"id\").or(\"id.eq.\".concat(parentExpenseId, \",parent_expense_id.eq.\").concat(parentExpenseId));\n                    if (fetchError) throw fetchError;\n                    console.log(\"\\uD83D\\uDCCA [TRANSACTION MODAL] Parcelas encontradas:\", allInstallments.length);\n                    // Usar helper para garantir unicidade\n                    const uniqueSplits = aggregateSplits(splitDetails);\n                    const splitsToInsert = allInstallments.flatMap((installment)=>uniqueSplits.map((split)=>({\n                                expense_id: installment.id,\n                                cost_center_id: split.cost_center_id,\n                                percentage: split.percentage,\n                                amount: split.amount / Number(form.installments)\n                            })));\n                    console.log(\"\\uD83D\\uDCBE [TRANSACTION MODAL] Total de splits \\xfanicos a inserir:\", splitsToInsert.length);\n                    const { error: splitError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").insert(splitsToInsert);\n                    if (splitError) {\n                        console.error(\"❌ [TRANSACTION MODAL] Erro ao inserir splits:\", splitError);\n                        throw splitError;\n                    }\n                    console.log(\"✅ [TRANSACTION MODAL] Splits inseridos com sucesso\");\n                }\n                console.log(\"✅ [TRANSACTION MODAL] Convers\\xe3o para cart\\xe3o conclu\\xedda\");\n            } else {\n                const dataToSave = {\n                    cost_center_id: (costCenter === null || costCenter === void 0 ? void 0 : costCenter.id) || null,\n                    owner: form.owner_name.trim(),\n                    is_shared: willBeShared,\n                    category_id: (category === null || category === void 0 ? void 0 : category.id) || null,\n                    category: (category === null || category === void 0 ? void 0 : category.name) || null,\n                    amount: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount),\n                    description: form.description.trim(),\n                    date: form.date,\n                    payment_method: form.payment_method,\n                    status: \"confirmed\",\n                    confirmed_at: new Date().toISOString(),\n                    confirmed_by: orgUser.id,\n                    source: \"manual\"\n                };\n                console.log(\"\\uD83D\\uDCBE [TRANSACTION MODAL] Inserting expense:\", dataToSave);\n                let expense;\n                let error;\n                if (editingTransaction) {\n                    // Editar despesa existente\n                    const { data, error: updateError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").update(dataToSave).eq(\"id\", editingTransaction.id).select().single();\n                    expense = data;\n                    error = updateError;\n                } else {\n                    // Criar nova despesa\n                    const insertData = {\n                        ...dataToSave,\n                        organization_id: organization.id,\n                        user_id: orgUser.id\n                    };\n                    const { data, error: insertError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expenses\").insert(insertData).select().single();\n                    expense = data;\n                    error = insertError;\n                }\n                if (error) throw error;\n                console.log(\"✅ [TRANSACTION MODAL] Expense saved:\", expense);\n                // Atualizar available_limit do cartão se for crédito\n                if (form.payment_method === \"credit_card\" && expense.card_id) {\n                    try {\n                        const { data: card } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"cards\").select(\"available_limit, credit_limit\").eq(\"id\", expense.card_id).single();\n                        if (card) {\n                            const currentAvailable = parseFloat(card.available_limit || card.credit_limit || 0);\n                            const amountChange = editingTransaction ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount) - Number(editingTransaction.amount || 0) // Diferença se editando\n                             : (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(form.amount); // Valor total se criando\n                            const newAvailable = Math.max(0, currentAvailable - amountChange);\n                            await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"cards\").update({\n                                available_limit: newAvailable\n                            }).eq(\"id\", expense.card_id);\n                            console.log(\"✅ [TRANSACTION MODAL] Updated card available_limit:\", newAvailable);\n                        }\n                    } catch (cardUpdateError) {\n                        console.error(\"⚠️ Erro ao atualizar limite dispon\\xedvel do cart\\xe3o:\", cardUpdateError);\n                    // Não falhar por causa disso\n                    }\n                }\n                if (willBeShared && splitDetails.length > 0) {\n                    // Se está editando, deletar splits antigos primeiro\n                    if (editingTransaction) {\n                        const { error: deleteError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").delete().eq(\"expense_id\", editingTransaction.id);\n                        if (deleteError) throw deleteError;\n                    }\n                    // Garantir unicidade por cost_center_id antes de inserir\n                    const uniqueSplits = aggregateSplits(splitDetails);\n                    const splitsToInsert = uniqueSplits.map((split)=>({\n                            expense_id: expense.id,\n                            cost_center_id: split.cost_center_id,\n                            percentage: split.percentage,\n                            amount: split.amount\n                        }));\n                    console.log(\"\\uD83D\\uDCBE [TRANSACTION MODAL] Inserindo splits \\xfanicos:\", splitsToInsert.length);\n                    console.log(\"\\uD83D\\uDCCA [TRANSACTION MODAL] Payload completo:\", JSON.stringify(splitsToInsert, null, 2));\n                    const { error: splitError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"expense_splits\").insert(splitsToInsert);\n                    if (splitError) {\n                        console.error(\"❌ [TRANSACTION MODAL] Erro ao inserir splits:\", splitError);\n                        console.error(\"❌ [TRANSACTION MODAL] Payload que falhou:\", JSON.stringify(splitsToInsert, null, 2));\n                        throw splitError;\n                    }\n                }\n            }\n            onClose === null || onClose === void 0 ? void 0 : onClose();\n            const action = editingTransaction ? \"atualizada\" : \"salva\";\n            success(\"Despesa \".concat(action, \" com sucesso!\"));\n            onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        } catch (e) {\n            var _e_error;\n            console.error(\"❌ [TRANSACTION MODAL] Erro ao salvar:\", e);\n            const errorMessage = (e === null || e === void 0 ? void 0 : e.message) || (e === null || e === void 0 ? void 0 : (_e_error = e.error) === null || _e_error === void 0 ? void 0 : _e_error.message) || \"Erro desconhecido\";\n            showError(\"Erro ao salvar: \".concat(errorMessage));\n        } finally{\n            setSaving(false);\n        }\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-xl shadow-xl w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl xl:max-w-4xl 2xl:max-w-5xl max-h-[90vh] sm:max-h-[95vh] border border-flight-blue/20 flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-row items-center justify-between p-4 sm:p-5 md:p-6 pb-3 sm:pb-4 md:pb-4 bg-flight-blue/5 rounded-t-xl flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-gray-900 font-semibold text-base sm:text-lg md:text-xl\",\n                            children: editingTransaction ? \"Editar Despesa\" : \"Nova Despesa\"\n                        }, void 0, false, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 884,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            variant: \"ghost\",\n                            size: \"icon\",\n                            onClick: onClose,\n                            className: \"text-gray-700 hover:bg-gray-100\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_User_Users_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__.X, {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                lineNumber: 893,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 887,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                    lineNumber: 883,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 overflow-y-auto p-4 sm:p-5 md:p-6 pt-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-4 md:mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"md:col-span-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Descri\\xe7\\xe3o *\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 902,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            value: form.description,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    description: e.target.value\n                                                }),\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                            placeholder: \"Ex: Mercado, Farm\\xe1cia\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 903,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 901,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Valor *\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 913,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\",\n                                                    children: \"R$\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 915,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: form.amount,\n                                                    onChange: (e)=>(0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.handleCurrencyChange)(e, (value)=>setForm({\n                                                                ...form,\n                                                                amount: value\n                                                            })),\n                                                    onBlur: (e)=>{\n                                                        // Garantir formatação completa ao sair do campo\n                                                        const value = e.target.value.trim();\n                                                        if (!value) {\n                                                            setForm({\n                                                                ...form,\n                                                                amount: \"\"\n                                                            });\n                                                            return;\n                                                        }\n                                                        const parsed = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.parseCurrencyInput)(value);\n                                                        if (parsed > 0) {\n                                                            const formatted = parsed.toLocaleString(\"pt-BR\", {\n                                                                minimumFractionDigits: 2,\n                                                                maximumFractionDigits: 2\n                                                            });\n                                                            setForm({\n                                                                ...form,\n                                                                amount: formatted\n                                                            });\n                                                        } else {\n                                                            setForm({\n                                                                ...form,\n                                                                amount: \"\"\n                                                            });\n                                                        }\n                                                    },\n                                                    className: \"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                                    placeholder: \"0,00\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 916,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 914,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 912,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Data *\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 942,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"date\",\n                                            value: form.date,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    date: e.target.value\n                                                }),\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 943,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 941,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Categoria\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 953,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: form.category_id,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    category_id: e.target.value\n                                                }),\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    children: \"Selecione...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 959,\n                                                    columnNumber: 17\n                                                }, this),\n                                                [\n                                                    ...expenseCategories\n                                                ].sort((a, b)=>a.name.localeCompare(b.name, \"pt-BR\")).map((cat)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: cat.id,\n                                                        children: cat.name\n                                                    }, cat.id, false, {\n                                                        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                        lineNumber: 961,\n                                                        columnNumber: 19\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 954,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 952,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Forma de Pagamento\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 966,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: form.payment_method,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    payment_method: e.target.value\n                                                }),\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"cash\",\n                                                    children: \"Dinheiro\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 972,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"debit_card\",\n                                                    children: \"Cart\\xe3o de D\\xe9bito\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 973,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"pix\",\n                                                    children: \"PIX\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 974,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"credit_card\",\n                                                    children: \"Cart\\xe3o de Cr\\xe9dito\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 975,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"boleto\",\n                                                    children: \"Boleto\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 976,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"bank_transfer\",\n                                                    children: \"Transfer\\xeancia Banc\\xe1ria\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 977,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"other\",\n                                                    children: \"Outros\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 978,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 967,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 965,\n                                    columnNumber: 13\n                                }, this),\n                                !isSoloUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                            children: \"Respons\\xe1vel *\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 984,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: form.owner_name,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    owner_name: e.target.value\n                                                }),\n                                            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    children: \"Selecione...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 990,\n                                                    columnNumber: 19\n                                                }, this),\n                                                ownerOptions.map((o)=>/*#__PURE__*/ {\n                                                    var _o_id;\n                                                    return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: o.name,\n                                                        children: o.name\n                                                    }, (_o_id = o.id) !== null && _o_id !== void 0 ? _o_id : o.name, false, {\n                                                        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                        lineNumber: 992,\n                                                        columnNumber: 21\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 985,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 983,\n                                    columnNumber: 15\n                                }, this) : null,\n                                isCredit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                    children: \"Cart\\xe3o *\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1002,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: form.card_id,\n                                                    onChange: (e)=>setForm({\n                                                            ...form,\n                                                            card_id: e.target.value\n                                                        }),\n                                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                                    disabled: cards.length === 0,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"\",\n                                                            children: \"Selecione...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                            lineNumber: 1009,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        cards.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: c.id,\n                                                                children: c.name\n                                                            }, c.id, false, {\n                                                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                                lineNumber: 1011,\n                                                                columnNumber: 23\n                                                            }, this))\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1003,\n                                                    columnNumber: 19\n                                                }, this),\n                                                cards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-2 text-sm text-gray-500\",\n                                                    children: \"Nenhum cart\\xe3o de cr\\xe9dito cadastrado. Cadastre um cart\\xe3o primeiro.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1015,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1001,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                    children: \"Parcelas *\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1021,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: form.installments,\n                                                    onChange: (e)=>setForm({\n                                                            ...form,\n                                                            installments: Number(e.target.value)\n                                                        }),\n                                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\",\n                                                    children: Array.from({\n                                                        length: 12\n                                                    }).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: i + 1,\n                                                            children: [\n                                                                i + 1,\n                                                                \"x\"\n                                                            ]\n                                                        }, i + 1, true, {\n                                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                            lineNumber: 1028,\n                                                            columnNumber: 23\n                                                        }, this))\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1022,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1020,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 900,\n                            columnNumber: 11\n                        }, this),\n                        isShared && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-medium text-gray-900\",\n                                            children: \"Divis\\xe3o\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1040,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>showSplitConfig ? resetToDefaultSplit() : setShowSplitConfig(true),\n                                            className: \"text-sm text-flight-blue hover:text-flight-blue/80 font-medium\",\n                                            children: showSplitConfig ? \"Usar Padr\\xe3o\" : \"Personalizar\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1041,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 1039,\n                                    columnNumber: 15\n                                }, this),\n                                showSplitConfig ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        splitDetails.map((split, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 rounded-full flex-shrink-0\",\n                                                        style: {\n                                                            backgroundColor: split.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                        lineNumber: 1054,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"flex-1 text-sm font-medium text-gray-700\",\n                                                        children: split.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                        lineNumber: 1058,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                min: \"0\",\n                                                                max: \"100\",\n                                                                step: \"1\",\n                                                                value: split.percentage,\n                                                                onChange: (e)=>updateSplitPercentage(index, parseFloat(e.target.value) || 0),\n                                                                className: \"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-flight-blue focus:border-flight-blue\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                                lineNumber: 1060,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm text-gray-500 w-6\",\n                                                                children: \"%\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                                lineNumber: 1069,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm text-gray-600 w-24 text-right\",\n                                                                children: [\n                                                                    \"R$ \",\n                                                                    split.amount.toFixed(2)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                                lineNumber: 1070,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                        lineNumber: 1059,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, split.cost_center_id, true, {\n                                                fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                lineNumber: 1053,\n                                                columnNumber: 21\n                                            }, this)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"pt-3 border-t border-gray-300 flex justify-between items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-gray-700\",\n                                                    children: \"Total:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1078,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-bold \".concat(totalPercentage === 100 ? \"text-green-600\" : \"text-red-600\"),\n                                                    children: [\n                                                        totalPercentage.toFixed(2),\n                                                        \"%\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1079,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1077,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 1051,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: splitDetails.map((split)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-3 h-3 rounded-full\",\n                                                            style: {\n                                                                backgroundColor: split.color\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                            lineNumber: 1089,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-700\",\n                                                            children: split.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                            lineNumber: 1093,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1088,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-600 font-medium\",\n                                                    children: [\n                                                        split.percentage,\n                                                        \"% (R$ \",\n                                                        split.amount.toFixed(2),\n                                                        \")\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                                    lineNumber: 1095,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, split.cost_center_id, true, {\n                                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                            lineNumber: 1087,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                                    lineNumber: 1085,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 1038,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                    lineNumber: 898,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 p-4 sm:p-5 md:p-6 pt-3 sm:pt-4 md:pt-4 border-t border-gray-200 bg-gray-50 rounded-b-xl flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            variant: \"outline\",\n                            onClick: onClose,\n                            disabled: saving,\n                            className: \"w-full sm:w-auto border-gray-300 text-gray-700 hover:bg-gray-50 min-h-[44px]\",\n                            children: \"Cancelar\"\n                        }, void 0, false, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 1108,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                            onClick: handleSave,\n                            disabled: saving || !isFormValid,\n                            className: \"w-full sm:w-auto bg-flight-blue hover:bg-flight-blue/90 border-2 border-flight-blue text-white shadow-sm hover:shadow-md min-h-[44px]\",\n                            children: saving ? \"Salvando...\" : \"Salvar\"\n                        }, void 0, false, {\n                            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                            lineNumber: 1116,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n                    lineNumber: 1107,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n            lineNumber: 881,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/felipexavier/FinTrack/packages/web/components/TransactionModal.jsx\",\n        lineNumber: 880,\n        columnNumber: 5\n    }, this);\n}\n_s(TransactionModal, \"0hP/7dBS6DT2Zt+9GqTr+LdqxY4=\", false, function() {\n    return [\n        _hooks_useOrganization__WEBPACK_IMPORTED_MODULE_3__.useOrganization,\n        _contexts_NotificationContext__WEBPACK_IMPORTED_MODULE_6__.useNotificationContext\n    ];\n});\n_c = TransactionModal;\nvar _c;\n$RefreshReg$(_c, \"TransactionModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs4QkFvQjFDLDhEQUFDd047b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDM08sOENBQU1BOzRCQUNMNk8sU0FBUTs0QkFDUkUsU0FBU25OOzRCQUNUc08sVUFBVW5OOzRCQUNWNEwsV0FBVTtzQ0FDWDs7Ozs7O3NDQUdELDhEQUFDM08sOENBQU1BOzRCQUNMK08sU0FBU2xHOzRCQUNUcUgsVUFBVW5OLFVBQVUsQ0FBQ3VGOzRCQUNyQnFHLFdBQVU7c0NBRVQ1TCxTQUFTLGdCQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNdEM7R0Fsa0N3QnJCOztRQUNvRy9CLG1FQUFlQTtRQUMxRlMsaUZBQXNCQTs7O0tBRi9Dc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9UcmFuc2FjdGlvbk1vZGFsLmpzeD9hMzg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZUNsaWVudCc7XG5pbXBvcnQgeyB1c2VPcmdhbml6YXRpb24gfSBmcm9tICcuLi9ob29rcy91c2VPcmdhbml6YXRpb24nO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJy4vdWkvQ2FyZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBYLCBVc2VycywgVXNlciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyB1c2VOb3RpZmljYXRpb25Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvTm90aWZpY2F0aW9uQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRCcmF6aWxUb2RheVN0cmluZywgaGFuZGxlQ3VycmVuY3lDaGFuZ2UsIHBhcnNlQ3VycmVuY3lJbnB1dCB9IGZyb20gJy4uL2xpYi91dGlscyc7XG5cbi8vIEhlbHBlcjogQWdyZWdhciBzcGxpdHMgcG9yIGNvc3RfY2VudGVyX2lkIHBhcmEgZXZpdGFyIGR1cGxpY2F0YXNcbmNvbnN0IGFnZ3JlZ2F0ZVNwbGl0cyA9IChzcGxpdHMpID0+IHtcbiAgaWYgKCFzcGxpdHMgfHwgc3BsaXRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICBcbiAgY29uc3QgYWdncmVnYXRlZCA9IE9iamVjdC52YWx1ZXMoXG4gICAgc3BsaXRzLnJlZHVjZSgoYWNjLCBzcGxpdCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBzcGxpdC5jb3N0X2NlbnRlcl9pZDtcbiAgICAgIGlmICghaWQpIHJldHVybiBhY2M7XG4gICAgICBpZiAoIWFjY1tpZF0pIHtcbiAgICAgICAgYWNjW2lkXSA9IHtcbiAgICAgICAgICBjb3N0X2NlbnRlcl9pZDogaWQsXG4gICAgICAgICAgbmFtZTogc3BsaXQubmFtZSxcbiAgICAgICAgICBjb2xvcjogc3BsaXQuY29sb3IsXG4gICAgICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgICAgICBhbW91bnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGFjY1tpZF0ucGVyY2VudGFnZSArPSBOdW1iZXIoc3BsaXQucGVyY2VudGFnZSkgfHwgMDtcbiAgICAgIGFjY1tpZF0uYW1vdW50ICs9IE51bWJlcihzcGxpdC5hbW91bnQpIHx8IDA7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KVxuICApO1xuICBcbiAgY29uc29sZS5sb2coJ/CflI0gW2FnZ3JlZ2F0ZVNwbGl0c10gSW5wdXQ6Jywgc3BsaXRzLmxlbmd0aCwgJ+KGkiBPdXRwdXQ6JywgYWdncmVnYXRlZC5sZW5ndGgpO1xuICByZXR1cm4gYWdncmVnYXRlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyYW5zYWN0aW9uTW9kYWwoeyBpc09wZW4sIG9uQ2xvc2UsIG9uU3VjY2VzcywgZWRpdGluZ1RyYW5zYWN0aW9uID0gbnVsbCwgY2F0ZWdvcmllcyA9IFtdIH0pIHtcbiAgY29uc3QgeyBvcmdhbml6YXRpb24sIHVzZXI6IG9yZ1VzZXIsIGNvc3RDZW50ZXJzLCBpbmNvbWVDYXRlZ29yaWVzLCBidWRnZXRDYXRlZ29yaWVzLCBpc1NvbG9Vc2VyLCBsb2FkaW5nOiBvcmdMb2FkaW5nIH0gPSB1c2VPcmdhbml6YXRpb24oKTtcbiAgY29uc3QgeyBzdWNjZXNzLCBlcnJvcjogc2hvd0Vycm9yLCB3YXJuaW5nIH0gPSB1c2VOb3RpZmljYXRpb25Db250ZXh0KCk7XG4gIFxuICBjb25zdCBbY2FyZHMsIHNldENhcmRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbZm9ybSwgc2V0Rm9ybV0gPSB1c2VTdGF0ZSh7XG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGFtb3VudDogJycsXG4gICAgZGF0ZTogZ2V0QnJhemlsVG9kYXlTdHJpbmcoKSxcbiAgICBjYXRlZ29yeV9pZDogJycsXG4gICAgb3duZXJfbmFtZTogJycsXG4gICAgcGF5bWVudF9tZXRob2Q6ICdjYXNoJyxcbiAgICBjYXJkX2lkOiAnJyxcbiAgICBpbnN0YWxsbWVudHM6IDEsXG4gIH0pO1xuXG4gIC8vIFdyYXBwZXIgcGFyYSBzZXRTcGxpdERldGFpbHMgcXVlIGdhcmFudGUgdW5pY2lkYWRlIHBvciBjb3N0X2NlbnRlcl9pZFxuICBjb25zdCBbc3BsaXREZXRhaWxzUmF3LCBzZXRTcGxpdERldGFpbHNSYXddID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBzZXRTcGxpdERldGFpbHMgPSAobmV3U3BsaXRzKSA9PiB7XG4gICAgY29uc3Qgc3BsaXRzID0gdHlwZW9mIG5ld1NwbGl0cyA9PT0gJ2Z1bmN0aW9uJyA/IG5ld1NwbGl0cyhzcGxpdERldGFpbHNSYXcpIDogbmV3U3BsaXRzO1xuICAgIGNvbnN0IGRlZHVwbGljYXRlZCA9IGFnZ3JlZ2F0ZVNwbGl0cyhzcGxpdHMpO1xuICAgIHNldFNwbGl0RGV0YWlsc1JhdyhkZWR1cGxpY2F0ZWQpO1xuICB9O1xuICBjb25zdCBzcGxpdERldGFpbHMgPSBzcGxpdERldGFpbHNSYXc7XG5cbiAgY29uc3QgW3Nob3dTcGxpdENvbmZpZywgc2V0U2hvd1NwbGl0Q29uZmlnXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB1c2VyQ29zdENlbnRlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghY29zdENlbnRlcnMgfHwgIW9yZ1VzZXIpIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoXG4gICAgICBjb3N0Q2VudGVycy5maW5kKFxuICAgICAgICAoY2MpID0+IGNjLnVzZXJfaWQgPT09IG9yZ1VzZXIuaWQgJiYgY2MuaXNfYWN0aXZlICE9PSBmYWxzZVxuICAgICAgKSB8fCBudWxsXG4gICAgKTtcbiAgfSwgW2Nvc3RDZW50ZXJzLCBvcmdVc2VyXSk7XG5cbiAgY29uc3QgaXNDcmVkaXQgPSBmb3JtLnBheW1lbnRfbWV0aG9kID09PSAnY3JlZGl0X2NhcmQnO1xuICAvLyBWZXJpZmljYXIgc2Ugw6kgY29tcGFydGlsaGFkbzogc2Ugb3duZXJfbmFtZSBmb3IgbyBub21lIGRhIGZhbcOtbGlhXG4gIGNvbnN0IGlzU2hhcmVkID0gIWlzU29sb1VzZXIgJiYgZm9ybS5vd25lcl9uYW1lID09PSAob3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYScpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbikge1xuICAgICAgLy8gUGFyYSBleHBlbnNlcywgZW5jb250cmFyIG8gbm9tZSBjb3JyZXNwb25kZW50ZSBlbSBjb3N0Q2VudGVyc1xuICAgICAgLy8gcGFyYSBnYXJhbnRpciBxdWUgbyB2YWxvciBjb3JyZXNwb25kYSBleGF0YW1lbnRlIGFvIGRyb3Bkb3duXG4gICAgICBjb25zdCByYXdPd25lck5hbWUgPSBlZGl0aW5nVHJhbnNhY3Rpb24uY29zdF9jZW50ZXI/Lm5hbWUgXG4gICAgICAgIHx8IGVkaXRpbmdUcmFuc2FjdGlvbi5vd25lciBcbiAgICAgICAgfHwgKGVkaXRpbmdUcmFuc2FjdGlvbi5pc19zaGFyZWQgPyAob3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYScpIDogJycpO1xuICAgICAgXG4gICAgICAvLyBCdXNjYXIgbyBub21lIGNvcnJlc3BvbmRlbnRlIHVzYW5kbyBjb3N0Q2VudGVycyBkaXJldGFtZW50ZVxuICAgICAgbGV0IG93bmVyTmFtZSA9IHJhd093bmVyTmFtZTtcbiAgICAgIGlmIChyYXdPd25lck5hbWUpIHtcbiAgICAgICAgLy8gRnVuw6fDo28gZGUgbm9ybWFsaXphw6fDo29cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gKHN0cikgPT4gKHN0ciB8fCAnJykudG9Mb3dlckNhc2UoKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEJ1c2NhciBlbSBjb3N0Q2VudGVyc1xuICAgICAgICBjb25zdCBtYXRjaGluZ0NlbnRlciA9IGNvc3RDZW50ZXJzPy5maW5kKGNjID0+IHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkQ0MgPSBub3JtYWxpemUoY2MubmFtZSk7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJhdyA9IG5vcm1hbGl6ZShyYXdPd25lck5hbWUpO1xuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkQ0MgPT09IG5vcm1hbGl6ZWRSYXc7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1hdGNoaW5nQ2VudGVyKSB7XG4gICAgICAgICAgb3duZXJOYW1lID0gbWF0Y2hpbmdDZW50ZXIubmFtZTtcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0aW5nVHJhbnNhY3Rpb24uaXNfc2hhcmVkIHx8IG5vcm1hbGl6ZShyYXdPd25lck5hbWUpID09PSBub3JtYWxpemUob3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYScpKSB7XG4gICAgICAgICAgLy8gU2UgZm9yIGNvbXBhcnRpbGhhZG8sIHVzYXIgbyBub21lIGV4YXRvIGRhIGZhbcOtbGlhXG4gICAgICAgICAgb3duZXJOYW1lID0gb3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2UgZm9yIHBhcmNlbGEgZGUgY2FydMOjbywgdXNhciBvIHZhbG9yIHRvdGFsIGRhIGNvbXByYSBlIG7Dum1lcm8gdG90YWwgZGUgcGFyY2VsYXNcbiAgICAgIGxldCBhbW91bnRUb1Nob3cgPSBlZGl0aW5nVHJhbnNhY3Rpb24uYW1vdW50O1xuICAgICAgbGV0IGluc3RhbGxtZW50c1RvU2hvdyA9IDE7XG4gICAgICBsZXQgZGF0ZVRvU2hvdyA9IGVkaXRpbmdUcmFuc2FjdGlvbi5kYXRlO1xuICAgICAgXG4gICAgICBpZiAoZWRpdGluZ1RyYW5zYWN0aW9uLmluc3RhbGxtZW50X2luZm8pIHtcbiAgICAgICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbi5pbnN0YWxsbWVudF9pbmZvLnRvdGFsX2Ftb3VudCkge1xuICAgICAgICAgIGFtb3VudFRvU2hvdyA9IGVkaXRpbmdUcmFuc2FjdGlvbi5pbnN0YWxsbWVudF9pbmZvLnRvdGFsX2Ftb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWRpdGluZ1RyYW5zYWN0aW9uLmluc3RhbGxtZW50X2luZm8udG90YWxfaW5zdGFsbG1lbnRzKSB7XG4gICAgICAgICAgaW5zdGFsbG1lbnRzVG9TaG93ID0gZWRpdGluZ1RyYW5zYWN0aW9uLmluc3RhbGxtZW50X2luZm8udG90YWxfaW5zdGFsbG1lbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNlIGZvciBwYXJjZWxhLCBidXNjYXIgYSBkYXRhIGRhIHByaW1laXJhIHBhcmNlbGFcbiAgICAgIGNvbnN0IGZldGNoRmlyc3REYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoZWRpdGluZ1RyYW5zYWN0aW9uLnBhcmVudF9leHBlbnNlX2lkIHx8IGVkaXRpbmdUcmFuc2FjdGlvbi5pbnN0YWxsbWVudF9pbmZvKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBlZGl0aW5nVHJhbnNhY3Rpb24ucGFyZW50X2V4cGVuc2VfaWQgPT09IGVkaXRpbmdUcmFuc2FjdGlvbi5pZCBcbiAgICAgICAgICAgID8gZWRpdGluZ1RyYW5zYWN0aW9uLmlkIFxuICAgICAgICAgICAgOiBlZGl0aW5nVHJhbnNhY3Rpb24ucGFyZW50X2V4cGVuc2VfaWQ7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBhbGxJbnN0YWxsbWVudHMsIGVycm9yOiBmZXRjaEluc3RhbGxtZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkLCBkYXRlJylcbiAgICAgICAgICAgIC5vcihgaWQuZXEuJHtwYXJlbnRJZH0scGFyZW50X2V4cGVuc2VfaWQuZXEuJHtwYXJlbnRJZH1gKVxuICAgICAgICAgICAgLm9yZGVyKCdpZCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgICAgICAgICAubGltaXQoMSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFmZXRjaEluc3RhbGxtZW50c0Vycm9yICYmIGFsbEluc3RhbGxtZW50cyAmJiBhbGxJbnN0YWxsbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFsbEluc3RhbGxtZW50c1swXS5kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZVRvU2hvdztcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZldGNoRmlyc3REYXRlKCkudGhlbihmaXJzdERhdGUgPT4ge1xuICAgICAgICBzZXRGb3JtKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZWRpdGluZ1RyYW5zYWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGFtb3VudDogYW1vdW50VG9TaG93Py50b1N0cmluZygpIHx8ICcnLFxuICAgICAgICAgIGRhdGU6IGZpcnN0RGF0ZSB8fCBnZXRCcmF6aWxUb2RheVN0cmluZygpLFxuICAgICAgICAgIGNhdGVnb3J5X2lkOiBlZGl0aW5nVHJhbnNhY3Rpb24uY2F0ZWdvcnlfaWQgfHwgJycsXG4gICAgICAgICAgb3duZXJfbmFtZTogb3duZXJOYW1lLFxuICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiBlZGl0aW5nVHJhbnNhY3Rpb24ucGF5bWVudF9tZXRob2QgfHwgJ2Nhc2gnLFxuICAgICAgICAgIGNhcmRfaWQ6IGVkaXRpbmdUcmFuc2FjdGlvbi5jYXJkX2lkIHx8ICcnLFxuICAgICAgICAgIGluc3RhbGxtZW50czogaW5zdGFsbG1lbnRzVG9TaG93LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbi5leHBlbnNlX3NwbGl0cykge1xuICAgICAgICBzZXRTcGxpdERldGFpbHMoZWRpdGluZ1RyYW5zYWN0aW9uLmV4cGVuc2Vfc3BsaXRzKTtcbiAgICAgICAgc2V0U2hvd1NwbGl0Q29uZmlnKHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNldEZvcm0oKTtcbiAgICB9XG4gIH0sIFtlZGl0aW5nVHJhbnNhY3Rpb24sIGlzT3BlbiwgY29zdENlbnRlcnMsIG9yZ2FuaXphdGlvbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc09wZW4pIHJldHVybjtcbiAgICBjb25zdCBsb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKG9yZ2FuaXphdGlvbj8uaWQgJiYgb3JnYW5pemF0aW9uLmlkICE9PSAnZGVmYXVsdC1vcmcnKSB7XG4gICAgICAgIC8vIENhcnJlZ2FyIGNhcnTDtWVzXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2FyZHNEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdjYXJkcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb24uaWQpXG4gICAgICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgICAgIC5vcmRlcignbmFtZScpO1xuICAgICAgICBzZXRDYXJkcyhjYXJkc0RhdGEgfHwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Q2FyZHMoW10pO1xuICAgICAgfVxuICAgIH07XG4gICAgbG9hZCgpO1xuICB9LCBbaXNPcGVuLCBvcmdhbml6YXRpb25dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTb2xvVXNlciB8fCAhdXNlckNvc3RDZW50ZXIpIHJldHVybjtcbiAgICBzZXRGb3JtKChwcmV2KSA9PiB7XG4gICAgICBpZiAocHJldi5vd25lcl9uYW1lID09PSB1c2VyQ29zdENlbnRlci5uYW1lKSB7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgb3duZXJfbmFtZTogdXNlckNvc3RDZW50ZXIubmFtZSB8fCBwcmV2Lm93bmVyX25hbWVcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sIFtpc1NvbG9Vc2VyLCB1c2VyQ29zdENlbnRlciwgdXNlckNvc3RDZW50ZXI/Lm5hbWUsIGlzT3Blbl0pO1xuXG4gIGNvbnN0IGV4cGVuc2VDYXRlZ29yaWVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGNhdGVnb3JpZXMgJiYgY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gY2F0ZWdvcmllcztcbiAgICB9XG4gICAgcmV0dXJuIChidWRnZXRDYXRlZ29yaWVzIHx8IFtdKS5maWx0ZXIoY2F0ID0+IGNhdC50eXBlID09PSAnZXhwZW5zZScgfHwgY2F0LnR5cGUgPT09ICdib3RoJyk7XG4gIH0sIFtjYXRlZ29yaWVzLCBidWRnZXRDYXRlZ29yaWVzXSk7XG5cbiAgY29uc3Qgb3duZXJPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlzU29sb1VzZXIpIHtcbiAgICAgIHJldHVybiB1c2VyQ29zdENlbnRlclxuICAgICAgICA/IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXJDb3N0Q2VudGVyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiB1c2VyQ29zdENlbnRlci5uYW1lLFxuICAgICAgICAgICAgICBkZWZhdWx0X3NwbGl0X3BlcmNlbnRhZ2U6IHVzZXJDb3N0Q2VudGVyLmRlZmF1bHRfc3BsaXRfcGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgY29sb3I6IHVzZXJDb3N0Q2VudGVyLmNvbG9yLFxuICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyQ29zdENlbnRlci51c2VyX2lkLFxuICAgICAgICAgICAgICBsaW5rZWRfZW1haWw6IHVzZXJDb3N0Q2VudGVyLmxpbmtlZF9lbWFpbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxDZW50ZXJzID0gKGNvc3RDZW50ZXJzIHx8IFtdKVxuICAgICAgLmZpbHRlcigoY2MpID0+IGNjLmlzX2FjdGl2ZSAhPT0gZmFsc2UpXG4gICAgICAubWFwKChjYykgPT4gKHtcbiAgICAgICAgaWQ6IGNjLmlkLFxuICAgICAgICBuYW1lOiBjYy5uYW1lLFxuICAgICAgICBkZWZhdWx0X3NwbGl0X3BlcmNlbnRhZ2U6IGNjLmRlZmF1bHRfc3BsaXRfcGVyY2VudGFnZSxcbiAgICAgICAgY29sb3I6IGNjLmNvbG9yLFxuICAgICAgICB1c2VyX2lkOiBjYy51c2VyX2lkLFxuICAgICAgICBsaW5rZWRfZW1haWw6IGNjLmxpbmtlZF9lbWFpbFxuICAgICAgfSkpO1xuXG4gICAgYWxsQ2VudGVycy5wdXNoKHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAgbmFtZTogb3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYScsXG4gICAgICBkZWZhdWx0X3NwbGl0X3BlcmNlbnRhZ2U6IDAsXG4gICAgICBjb2xvcjogJyM4QjVDRjYnLFxuICAgICAgaXNTaGFyZWQ6IHRydWVcbiAgICB9KTtcblxuICAgIHJldHVybiBhbGxDZW50ZXJzO1xuICB9LCBbY29zdENlbnRlcnMsIG9yZ2FuaXphdGlvbiwgaXNTb2xvVXNlciwgdXNlckNvc3RDZW50ZXJdKTtcblxuICAvLyBJbmljaWFsaXphciBzcGxpdHMgcXVhbmRvIHNlbGVjaW9uYXIgb3JnYW5pemHDp8Ojby9jb21wYXJ0aWxoYWRvXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzU2hhcmVkICYmIHNwbGl0RGV0YWlscy5sZW5ndGggPT09IDAgJiYgY29zdENlbnRlcnMgJiYgY29zdENlbnRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYWN0aXZlQ2VudGVycyA9IChjb3N0Q2VudGVycyB8fCBbXSkuZmlsdGVyKGNjID0+IGNjLmlzX2FjdGl2ZSAhPT0gZmFsc2UgJiYgY2MudXNlcl9pZCk7XG4gICAgICBpZiAoYWN0aXZlQ2VudGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTcGxpdHMgPSBhY3RpdmVDZW50ZXJzLm1hcChjYyA9PiAoe1xuICAgICAgICAgIGNvc3RfY2VudGVyX2lkOiBjYy5pZCxcbiAgICAgICAgICBuYW1lOiBjYy5uYW1lLFxuICAgICAgICAgIGNvbG9yOiBjYy5jb2xvcixcbiAgICAgICAgICBwZXJjZW50YWdlOiBwYXJzZUZsb2F0KGNjLmRlZmF1bHRfc3BsaXRfcGVyY2VudGFnZSB8fCAwKSxcbiAgICAgICAgICBhbW91bnQ6IDBcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRTcGxpdERldGFpbHMoZGVmYXVsdFNwbGl0cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtUUkFOU0FDVElPTiBNT0RBTF0gT3JnYW5pemHDp8Ojby9jb21wYXJ0aWxoYWRvIHNlbGVjaW9uYWRvLCBzcGxpdHMgaW5pY2lhbGl6YWRvczonLCBkZWZhdWx0U3BsaXRzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTaGFyZWQpIHtcbiAgICAgIHNldFNwbGl0RGV0YWlscyhbXSk7XG4gICAgICBzZXRTaG93U3BsaXRDb25maWcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzU2hhcmVkLCBjb3N0Q2VudGVycywgZm9ybS5vd25lcl9uYW1lLCBvcmdhbml6YXRpb24/Lm5hbWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1NoYXJlZCAmJiBmb3JtLmFtb3VudCAmJiBzcGxpdERldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdG90YWxBbW91bnQgPSBwYXJzZUN1cnJlbmN5SW5wdXQoZm9ybS5hbW91bnQpIHx8IDA7XG4gICAgICBjb25zdCB1cGRhdGVkU3BsaXRzID0gc3BsaXREZXRhaWxzLm1hcChzcGxpdCA9PiAoe1xuICAgICAgICAuLi5zcGxpdCxcbiAgICAgICAgYW1vdW50OiAodG90YWxBbW91bnQgKiBzcGxpdC5wZXJjZW50YWdlKSAvIDEwMFxuICAgICAgfSkpO1xuICAgICAgc2V0U3BsaXREZXRhaWxzKHVwZGF0ZWRTcGxpdHMpO1xuICAgIH1cbiAgfSwgW2Zvcm0uYW1vdW50LCBpc1NoYXJlZCwgc3BsaXREZXRhaWxzLmxlbmd0aF0pO1xuXG4gIGNvbnN0IHRvdGFsUGVyY2VudGFnZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBzcGxpdERldGFpbHMucmVkdWNlKChzdW0sIHNwbGl0KSA9PiBzdW0gKyAocGFyc2VGbG9hdChzcGxpdC5wZXJjZW50YWdlKSB8fCAwKSwgMCk7XG4gIH0sIFtzcGxpdERldGFpbHNdKTtcblxuICBjb25zdCB1cGRhdGVTcGxpdFBlcmNlbnRhZ2UgPSAoaW5kZXgsIG5ld1BlcmNlbnRhZ2UpID0+IHtcbiAgICBjb25zdCB0b3RhbEFtb3VudCA9IHBhcnNlRmxvYXQoZm9ybS5hbW91bnQpIHx8IDA7XG4gICAgc2V0U3BsaXREZXRhaWxzKHByZXYgPT4gcHJldi5tYXAoKHNwbGl0LCBpKSA9PiBcbiAgICAgIGkgPT09IGluZGV4IFxuICAgICAgICA/IHsgXG4gICAgICAgICAgICAuLi5zcGxpdCwgXG4gICAgICAgICAgICBwZXJjZW50YWdlOiBuZXdQZXJjZW50YWdlLFxuICAgICAgICAgICAgYW1vdW50OiAodG90YWxBbW91bnQgKiBuZXdQZXJjZW50YWdlKSAvIDEwMFxuICAgICAgICAgIH1cbiAgICAgICAgOiBzcGxpdFxuICAgICkpO1xuICB9O1xuXG4gIGNvbnN0IHJlc2V0VG9EZWZhdWx0U3BsaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdG90YWxBbW91bnQgPSBwYXJzZUZsb2F0KGZvcm0uYW1vdW50KSB8fCAwO1xuICAgIGNvbnN0IGFjdGl2ZUNlbnRlcnMgPSAoY29zdENlbnRlcnMgfHwgW10pLmZpbHRlcihjYyA9PiBjYy5pc19hY3RpdmUgIT09IGZhbHNlICYmIGNjLnVzZXJfaWQpO1xuICAgIGNvbnN0IGRlZmF1bHRTcGxpdHMgPSBhY3RpdmVDZW50ZXJzLm1hcChjYyA9PiAoe1xuICAgICAgY29zdF9jZW50ZXJfaWQ6IGNjLmlkLFxuICAgICAgbmFtZTogY2MubmFtZSxcbiAgICAgIGNvbG9yOiBjYy5jb2xvcixcbiAgICAgIHBlcmNlbnRhZ2U6IHBhcnNlRmxvYXQoY2MuZGVmYXVsdF9zcGxpdF9wZXJjZW50YWdlIHx8IDApLFxuICAgICAgYW1vdW50OiAodG90YWxBbW91bnQgKiBwYXJzZUZsb2F0KGNjLmRlZmF1bHRfc3BsaXRfcGVyY2VudGFnZSB8fCAwKSkgLyAxMDBcbiAgICB9KSk7XG4gICAgc2V0U3BsaXREZXRhaWxzKGRlZmF1bHRTcGxpdHMpO1xuICAgIHNldFNob3dTcGxpdENvbmZpZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgcmVzZXRGb3JtID0gKCkgPT4ge1xuICAgIHNldEZvcm0oe1xuICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgYW1vdW50OiAnJyxcbiAgICAgIGRhdGU6IGdldEJyYXppbFRvZGF5U3RyaW5nKCksXG4gICAgICBjYXRlZ29yeV9pZDogJycsXG4gICAgICBvd25lcl9uYW1lOlxuICAgICAgICBpc1NvbG9Vc2VyICYmIHVzZXJDb3N0Q2VudGVyID8gdXNlckNvc3RDZW50ZXIubmFtZSA6ICcnLFxuICAgICAgcGF5bWVudF9tZXRob2Q6ICdjYXNoJyxcbiAgICAgIGNhcmRfaWQ6ICcnLFxuICAgICAgaW5zdGFsbG1lbnRzOiAxLFxuICAgIH0pO1xuICAgIHNldFNwbGl0RGV0YWlscyhbXSk7XG4gICAgc2V0U2hvd1NwbGl0Q29uZmlnKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBpc0Zvcm1WYWxpZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGhhc0Jhc2ljID0gQm9vbGVhbihcbiAgICAgIGZvcm0uZGVzY3JpcHRpb24/LnRyaW0oKSAmJlxuICAgICAgZm9ybS5hbW91bnQgJiZcbiAgICAgIGZvcm0uZGF0ZSAmJlxuICAgICAgZm9ybS5vd25lcl9uYW1lICYmXG4gICAgICBmb3JtLnBheW1lbnRfbWV0aG9kXG4gICAgKTtcbiAgICBpZiAoIWhhc0Jhc2ljKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBhbW91bnRWYWx1ZSA9IHBhcnNlQ3VycmVuY3lJbnB1dChmb3JtLmFtb3VudCk7XG4gICAgaWYgKGFtb3VudFZhbHVlIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgIGlmICghZm9ybS5jYXRlZ29yeV9pZCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc0NyZWRpdCAmJiAoIWZvcm0uY2FyZF9pZCB8fCAhZm9ybS5pbnN0YWxsbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoaXNTaGFyZWQpIHtcbiAgICAgIGlmICghc3BsaXREZXRhaWxzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKE1hdGguYWJzKHRvdGFsUGVyY2VudGFnZSAtIDEwMCkgPiAwLjAxKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sIFtcbiAgICBmb3JtLmRlc2NyaXB0aW9uLFxuICAgIGZvcm0uYW1vdW50LFxuICAgIGZvcm0uZGF0ZSxcbiAgICBmb3JtLm93bmVyX25hbWUsXG4gICAgZm9ybS5wYXltZW50X21ldGhvZCxcbiAgICBmb3JtLmNhdGVnb3J5X2lkLFxuICAgIGZvcm0uY2FyZF9pZCxcbiAgICBmb3JtLmluc3RhbGxtZW50cyxcbiAgICBpc0NyZWRpdCxcbiAgICBpc1NoYXJlZCxcbiAgICBzcGxpdERldGFpbHMsXG4gICAgdG90YWxQZXJjZW50YWdlXG4gIF0pO1xuXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFvcmdhbml6YXRpb24/LmlkIHx8ICFvcmdVc2VyPy5pZCkge1xuICAgICAgc2hvd0Vycm9yKCdGYW3DrWxpYSBvdSB1c3XDoXJpbyBuw6NvIGVuY29udHJhZG9zJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZm9ybS5kZXNjcmlwdGlvbiB8fCAhZm9ybS5hbW91bnQgfHwgIWZvcm0uZGF0ZSkge1xuICAgICAgd2FybmluZygnUHJlZW5jaGEgdG9kb3Mgb3MgY2FtcG9zIG9icmlnYXTDs3Jpb3MnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmb3JtLm93bmVyX25hbWUpIHtcbiAgICAgIHdhcm5pbmcoJ1NlbGVjaW9uZSB1bSByZXNwb25zw6F2ZWwnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFmb3JtLmNhdGVnb3J5X2lkKSB7XG4gICAgICB3YXJuaW5nKCdTZWxlY2lvbmUgdW1hIGNhdGVnb3JpYScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlY2FsY3VsYXIgaXNTaGFyZWQgYW50ZXMgZGUgc2FsdmFyIChwb2RlIHRlciBtdWRhZG8pXG4gICAgY29uc3Qgd2lsbEJlU2hhcmVkID0gIWlzU29sb1VzZXIgJiYgZm9ybS5vd25lcl9uYW1lID09PSAob3JnYW5pemF0aW9uPy5uYW1lIHx8ICdGYW3DrWxpYScpO1xuICAgIFxuICAgIC8vIFZhbGlkYXIgc3BsaXRzIHNlIGZvciBjb21wYXJ0aWxoYWRvXG4gICAgaWYgKHdpbGxCZVNoYXJlZCAmJiBzcGxpdERldGFpbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3YXJuaW5nKCfDiSBuZWNlc3PDoXJpbyBjb25maWd1cmFyIGEgZGl2aXPDo28gZGEgZGVzcGVzYSBjb21wYXJ0aWxoYWRhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHdpbGxCZVNoYXJlZCAmJiB0b3RhbFBlcmNlbnRhZ2UgIT09IDEwMCkge1xuICAgICAgd2FybmluZyhgQSBkaXZpc8OjbyBkZXZlIHNvbWFyIGV4YXRhbWVudGUgMTAwJS4gQXR1YWw6ICR7dG90YWxQZXJjZW50YWdlfSVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAgIC8vIFNhbHZhciBjb21vIGRlc3Blc2FcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBvd25lck9wdGlvbnMuZmluZChvID0+IG8ubmFtZSA9PT0gZm9ybS5vd25lcl9uYW1lKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBleHBlbnNlQ2F0ZWdvcmllcy5maW5kKGMgPT4gYy5pZCA9PT0gZm9ybS5jYXRlZ29yeV9pZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWNhdGVnb3J5KSB7XG4gICAgICAgICAgd2FybmluZygnQ2F0ZWdvcmlhIGludsOhbGlkYS4gQXR1YWxpemUgYSBww6FnaW5hIGUgdGVudGUgbm92YW1lbnRlLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFzZWxlY3RlZE9wdGlvbikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzcG9uc8OhdmVsIGludsOhbGlkbycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpc09wdGlvblNoYXJlZCA9IHNlbGVjdGVkT3B0aW9uLmlzU2hhcmVkIHx8IHdpbGxCZVNoYXJlZDtcbiAgICAgICAgY29uc3QgY29zdENlbnRlciA9IGlzT3B0aW9uU2hhcmVkID8gbnVsbCA6IHNlbGVjdGVkT3B0aW9uO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gW1RSQU5TQUNUSU9OIE1PREFMXSBTYWx2YW5kbyBleHBlbnNlOicsIHtcbiAgICAgICAgICBvd25lcl9uYW1lOiBmb3JtLm93bmVyX25hbWUsXG4gICAgICAgICAgb3JnYW5pemF0aW9uX25hbWU6IG9yZ2FuaXphdGlvbj8ubmFtZSxcbiAgICAgICAgICB3aWxsQmVTaGFyZWQsXG4gICAgICAgICAgaXNPcHRpb25TaGFyZWQsXG4gICAgICAgICAgY29zdF9jZW50ZXJfaWQ6IGNvc3RDZW50ZXI/LmlkIHx8IG51bGwsXG4gICAgICAgICAgc3BsaXREZXRhaWxzX2NvdW50OiBzcGxpdERldGFpbHMubGVuZ3RoLFxuICAgICAgICAgIGVkaXRpbmdUcmFuc2FjdGlvbjogISFlZGl0aW5nVHJhbnNhY3Rpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVmVyaWZpY2FyIHNlIGVzdMOhIGVkaXRhbmRvIHVtYSBwYXJjZWxhIGV4aXN0ZW50ZVxuICAgICAgICBjb25zdCBpc0V4aXN0aW5nSW5zdGFsbG1lbnQgPSBlZGl0aW5nVHJhbnNhY3Rpb24gJiYgKGVkaXRpbmdUcmFuc2FjdGlvbi5wYXJlbnRfZXhwZW5zZV9pZCB8fCBlZGl0aW5nVHJhbnNhY3Rpb24uaW5zdGFsbG1lbnRfaW5mbyk7XG4gICAgICAgIGNvbnN0IHdhc0NyZWRpdCA9IGVkaXRpbmdUcmFuc2FjdGlvbj8ucGF5bWVudF9tZXRob2QgPT09ICdjcmVkaXRfY2FyZCc7XG5cbiAgICAgICAgaWYgKGlzQ3JlZGl0ICYmIHdhc0NyZWRpdCAmJiBpc0V4aXN0aW5nSW5zdGFsbG1lbnQpIHtcbiAgICAgICAgICAvLyBBdHVhbGl6YXIgcGFyY2VsYXMgZXhpc3RlbnRlc1xuICAgICAgICAgIGlmICghZm9ybS5jYXJkX2lkKSB0aHJvdyBuZXcgRXJyb3IoJ0NhcnTDo28gZGUgY3LDqWRpdG8gw6kgb2JyaWdhdMOzcmlvJyk7XG5cbiAgICAgICAgICAvLyBCdXNjYXIgbyBwYXJlbnRfZXhwZW5zZV9pZCBjb3JyZXRvXG4gICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBlZGl0aW5nVHJhbnNhY3Rpb24ucGFyZW50X2V4cGVuc2VfaWQgPT09IGVkaXRpbmdUcmFuc2FjdGlvbi5pZCBcbiAgICAgICAgICAgID8gZWRpdGluZ1RyYW5zYWN0aW9uLmlkIFxuICAgICAgICAgICAgOiBlZGl0aW5nVHJhbnNhY3Rpb24ucGFyZW50X2V4cGVuc2VfaWQ7XG5cbiAgICAgICAgICAvLyBWZXJpZmljYXIgcXVhbnRhcyBwYXJjZWxhcyBleGlzdGVtIGF0dWFsbWVudGVcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGN1cnJlbnRJbnN0YWxsbWVudHMsIGVycm9yOiBjb3VudEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgIC5vcihgaWQuZXEuJHtwYXJlbnRJZH0scGFyZW50X2V4cGVuc2VfaWQuZXEuJHtwYXJlbnRJZH1gKTtcblxuICAgICAgICAgIGlmIChjb3VudEVycm9yKSB0aHJvdyBjb3VudEVycm9yO1xuXG4gICAgICAgICAgY29uc3QgY3VycmVudEluc3RhbGxtZW50Q291bnQgPSBjdXJyZW50SW5zdGFsbG1lbnRzPy5sZW5ndGggfHwgMDtcbiAgICAgICAgICBjb25zdCBuZXdJbnN0YWxsbWVudENvdW50ID0gTnVtYmVyKGZvcm0uaW5zdGFsbG1lbnRzKTtcblxuICAgICAgICAgIC8vIEJ1c2NhciBhIGRhdGEgZGEgcHJpbWVpcmEgcGFyY2VsYSBvcmlnaW5hbCBwYXJhIGNvbXBhcmFyXG4gICAgICAgICAgY29uc3QgZmlyc3RJbnN0YWxsbWVudCA9IGN1cnJlbnRJbnN0YWxsbWVudHMucmVkdWNlKChtaW4sIGN1cnIpID0+IFxuICAgICAgICAgICAgY3Vyci5pZCA8IG1pbi5pZCA/IGN1cnIgOiBtaW5cbiAgICAgICAgICAsIGN1cnJlbnRJbnN0YWxsbWVudHNbMF0pO1xuXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBmaXJzdEluc3RhbGxtZW50RGF0YSwgZXJyb3I6IGZldGNoRmlyc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdleHBlbnNlcycpXG4gICAgICAgICAgICAuc2VsZWN0KCdkYXRlJylcbiAgICAgICAgICAgIC5lcSgnaWQnLCBmaXJzdEluc3RhbGxtZW50LmlkKVxuICAgICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgICAgaWYgKGZldGNoRmlyc3RFcnJvcikgdGhyb3cgZmV0Y2hGaXJzdEVycm9yO1xuXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxGaXJzdERhdGUgPSBmaXJzdEluc3RhbGxtZW50RGF0YS5kYXRlO1xuICAgICAgICAgIGNvbnN0IGRhdGVDaGFuZ2VkID0gb3JpZ2luYWxGaXJzdERhdGUgIT09IGZvcm0uZGF0ZTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtUUkFOU0FDVElPTiBNT0RBTF0gUGFyY2VsYXMgYXR1YWlzOicsIGN1cnJlbnRJbnN0YWxsbWVudENvdW50LCAnTm92YXM6JywgbmV3SW5zdGFsbG1lbnRDb3VudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4UgW1RSQU5TQUNUSU9OIE1PREFMXSBEYXRhIG9yaWdpbmFsOicsIG9yaWdpbmFsRmlyc3REYXRlLCAnTm92YTonLCBmb3JtLmRhdGUsICdNdWRvdT8nLCBkYXRlQ2hhbmdlZCk7XG5cbiAgICAgICAgICAvLyBTZSBvIG7Dum1lcm8gZGUgcGFyY2VsYXMgbXVkb3UgT1UgYSBkYXRhIG11ZG91LCByZWNyaWFyIG8gZ3J1cG9cbiAgICAgICAgICBpZiAoY3VycmVudEluc3RhbGxtZW50Q291bnQgIT09IG5ld0luc3RhbGxtZW50Q291bnQgfHwgZGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGRhdGVDaGFuZ2VkICYmIGN1cnJlbnRJbnN0YWxsbWVudENvdW50ICE9PSBuZXdJbnN0YWxsbWVudENvdW50IFxuICAgICAgICAgICAgICA/ICdOw7ptZXJvIGRlIHBhcmNlbGFzIEUgZGF0YSBtdWRhcmFtJyBcbiAgICAgICAgICAgICAgOiBkYXRlQ2hhbmdlZCBcbiAgICAgICAgICAgICAgICA/ICdEYXRhIG11ZG91JyBcbiAgICAgICAgICAgICAgICA6ICdOw7ptZXJvIGRlIHBhcmNlbGFzIG11ZG91JztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtUUkFOU0FDVElPTiBNT0RBTF0gJHtyZWFzb259ISBSZWNyaWFuZG8gZ3J1cG8uLi5gKTtcblxuICAgICAgICAgICAgLy8gRGVsZXRhciB0b2RhcyBhcyBwYXJjZWxhcyBhbnRpZ2FzXG4gICAgICAgICAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAgIC5vcihgaWQuZXEuJHtwYXJlbnRJZH0scGFyZW50X2V4cGVuc2VfaWQuZXEuJHtwYXJlbnRJZH1gKTtcblxuICAgICAgICAgICAgaWYgKGRlbGV0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbVFJBTlNBQ1RJT04gTU9EQUxdIEVycm8gYW8gZGVsZXRhciBwYXJjZWxhcyBhbnRpZ2FzOicsIGRlbGV0ZUVycm9yKTtcbiAgICAgICAgICAgICAgdGhyb3cgZGVsZXRlRXJyb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyaWFyIG5vdmFzIHBhcmNlbGFzIHZpYSBSUEMgdXNhbmRvIGEgZGF0YSBlc2NvbGhpZGEgcGVsbyB1c3XDoXJpb1xuICAgICAgICAgICAgY29uc3Qgb3duZXJGb3JSUEMgPSB3aWxsQmVTaGFyZWQgPyBmb3JtLm93bmVyX25hbWUgOiBmb3JtLm93bmVyX25hbWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFyZW50RXhwZW5zZUlkLCBlcnJvcjogcnBjRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnY3JlYXRlX2luc3RhbGxtZW50cycsIHtcbiAgICAgICAgICAgICAgcF9hbW91bnQ6IHBhcnNlQ3VycmVuY3lJbnB1dChmb3JtLmFtb3VudCksXG4gICAgICAgICAgICAgIHBfaW5zdGFsbG1lbnRzOiBuZXdJbnN0YWxsbWVudENvdW50LFxuICAgICAgICAgICAgICBwX2Rlc2NyaXB0aW9uOiBmb3JtLmRlc2NyaXB0aW9uLnRyaW0oKSxcbiAgICAgICAgICAgICAgcF9kYXRlOiBmb3JtLmRhdGUsIC8vIFVzYXIgYSBkYXRhIGVzY29saGlkYSBwZWxvIHVzdcOhcmlvXG4gICAgICAgICAgICAgIHBfY2FyZF9pZDogZm9ybS5jYXJkX2lkLFxuICAgICAgICAgICAgICBwX2NhdGVnb3J5X2lkOiBjYXRlZ29yeT8uaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgcF9jb3N0X2NlbnRlcl9pZDogY29zdENlbnRlcj8uaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgcF9vd25lcjogb3duZXJGb3JSUEMsXG4gICAgICAgICAgICAgIHBfb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb24uaWQsXG4gICAgICAgICAgICAgIHBfdXNlcl9pZDogb3JnVXNlci5pZCxcbiAgICAgICAgICAgICAgcF93aGF0c2FwcF9tZXNzYWdlX2lkOiBudWxsLFxuICAgICAgICAgICAgICBwX3NwbGl0X3RlbXBsYXRlOiBudWxsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJwY0Vycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbVFJBTlNBQ1RJT04gTU9EQUxdIEVycm8gYW8gY3JpYXIgbm92YXMgcGFyY2VsYXM6JywgcnBjRXJyb3IpO1xuICAgICAgICAgICAgICB0aHJvdyBycGNFcnJvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbVFJBTlNBQ1RJT04gTU9EQUxdIE5vdmFzIHBhcmNlbGFzIGNyaWFkYXM6JywgcGFyZW50RXhwZW5zZUlkKTtcblxuICAgICAgICAgICAgLy8gSW5zZXJpciBzcGxpdHMgc2UgbmVjZXNzw6FyaW9cbiAgICAgICAgICAgIGlmICh3aWxsQmVTaGFyZWQgJiYgc3BsaXREZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBuZXdJbnN0YWxsbWVudHMsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgIC5mcm9tKCdleHBlbnNlcycpXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAgICAgICAgIC5vcihgaWQuZXEuJHtwYXJlbnRFeHBlbnNlSWR9LHBhcmVudF9leHBlbnNlX2lkLmVxLiR7cGFyZW50RXhwZW5zZUlkfWApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3I7XG5cbiAgICAgICAgICAgICAgY29uc3Qgc3BsaXRzVG9JbnNlcnQgPSBuZXdJbnN0YWxsbWVudHMuZmxhdE1hcChpbnN0YWxsbWVudCA9PiBcbiAgICAgICAgICAgICAgICBzcGxpdERldGFpbHMubWFwKHNwbGl0ID0+ICh7XG4gICAgICAgICAgICAgICAgICBleHBlbnNlX2lkOiBpbnN0YWxsbWVudC5pZCxcbiAgICAgICAgICAgICAgICAgIGNvc3RfY2VudGVyX2lkOiBzcGxpdC5jb3N0X2NlbnRlcl9pZCxcbiAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHNwbGl0LnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IHNwbGl0LmFtb3VudCAvIG5ld0luc3RhbGxtZW50Q291bnRcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBjb25zdCB7IGVycm9yOiBzcGxpdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgIC5mcm9tKCdleHBlbnNlX3NwbGl0cycpXG4gICAgICAgICAgICAgICAgLmluc2VydChzcGxpdHNUb0luc2VydCk7XG5cbiAgICAgICAgICAgICAgaWYgKHNwbGl0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1RSQU5TQUNUSU9OIE1PREFMXSBFcnJvIGFvIGluc2VyaXIgc3BsaXRzOicsIHNwbGl0RXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IHNwbGl0RXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbVFJBTlNBQ1RJT04gTU9EQUxdIEdydXBvIGRlIHBhcmNlbGFzIHJlY3JpYWRvIGNvbSBzdWNlc3NvJyk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTsO6bWVybyBkZSBwYXJjZWxhcyBuw6NvIG11ZG91LCBhcGVuYXMgYXR1YWxpemFyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbVFJBTlNBQ1RJT04gTU9EQUxdIEF0dWFsaXphbmRvIHBhcmNlbGFzIGV4aXN0ZW50ZXMgZG8gZ3J1cG8nKTtcblxuICAgICAgICAgICAgLy8gVXNhciBmdW7Dp8OjbyBSUEMgcGFyYSBhdHVhbGl6YXIgcGFyY2VsYXMgKGJ5cGFzc2EgUkxTKVxuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVSZXN1bHQsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCd1cGRhdGVfaW5zdGFsbG1lbnRfZ3JvdXAnLCB7XG4gICAgICAgICAgICAgIHBfcGFyZW50X2V4cGVuc2VfaWQ6IHBhcmVudElkLFxuICAgICAgICAgICAgICBwX2Rlc2NyaXB0aW9uOiBmb3JtLmRlc2NyaXB0aW9uLnRyaW0oKSxcbiAgICAgICAgICAgICAgcF9jYXRlZ29yeV9pZDogY2F0ZWdvcnk/LmlkIHx8IG51bGwsXG4gICAgICAgICAgICAgIHBfY2FyZF9pZDogZm9ybS5jYXJkX2lkLFxuICAgICAgICAgICAgICBwX293bmVyOiBmb3JtLm93bmVyX25hbWUudHJpbSgpLFxuICAgICAgICAgICAgICBwX2Nvc3RfY2VudGVyX2lkOiBjb3N0Q2VudGVyPy5pZCB8fCBudWxsLFxuICAgICAgICAgICAgICBwX2lzX3NoYXJlZDogd2lsbEJlU2hhcmVkLFxuICAgICAgICAgICAgICBwX3RvdGFsX2Ftb3VudDogcGFyc2VDdXJyZW5jeUlucHV0KGZvcm0uYW1vdW50KSxcbiAgICAgICAgICAgICAgcF9vcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbi5pZCxcbiAgICAgICAgICAgICAgcF91c2VyX2lkOiBvcmdVc2VyLmlkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbVFJBTlNBQ1RJT04gTU9EQUxdIEVycm8gYW8gYXR1YWxpemFyIHBhcmNlbGFzOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgICAgICAgdGhyb3cgdXBkYXRlRXJyb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RSQU5TQUNUSU9OIE1PREFMXSBQYXJjZWxhcyBhdHVhbGl6YWRhcyB2aWEgUlBDOicsIHVwZGF0ZVJlc3VsdCk7XG5cbiAgICAgICAgICAgIC8vIEF0dWFsaXphciBzcGxpdHMgc2UgbmVjZXNzw6FyaW9cbiAgICAgICAgICAgIGlmICh3aWxsQmVTaGFyZWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5zdGFsbG1lbnRJZHMgPSB1cGRhdGVSZXN1bHRbMF0/Lmluc3RhbGxtZW50X2lkcyB8fCBbXTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChpbnN0YWxsbWVudElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRhciBzcGxpdHMgYW50aWdvc1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZVNwbGl0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2Vfc3BsaXRzJylcbiAgICAgICAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgICAgICAgLmluKCdleHBlbnNlX2lkJywgaW5zdGFsbG1lbnRJZHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZVNwbGl0c0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbVFJBTlNBQ1RJT04gTU9EQUxdIEVycm8gYW8gZGVsZXRhciBzcGxpdHMgYW50aWdvczonLCBkZWxldGVTcGxpdHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0RGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdHNUb0luc2VydCA9IGluc3RhbGxtZW50SWRzLmZsYXRNYXAoaW5zdGFsbG1lbnRJZCA9PiBcbiAgICAgICAgICAgICAgICAgICAgc3BsaXREZXRhaWxzLm1hcChzcGxpdCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIGV4cGVuc2VfaWQ6IGluc3RhbGxtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgY29zdF9jZW50ZXJfaWQ6IHNwbGl0LmNvc3RfY2VudGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHNwbGl0LnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBzcGxpdC5hbW91bnQgLyBpbnN0YWxsbWVudElkcy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yOiBpbnNlcnRTcGxpdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2Vfc3BsaXRzJylcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydChzcGxpdHNUb0luc2VydCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRTcGxpdHNFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1RSQU5TQUNUSU9OIE1PREFMXSBFcnJvIGFvIGluc2VyaXIgc3BsaXRzOicsIGluc2VydFNwbGl0c0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaW5zZXJ0U3BsaXRzRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RSQU5TQUNUSU9OIE1PREFMXSBQYXJjZWxhcyBlIHNwbGl0cyBhdHVhbGl6YWRvcyBjb20gc3VjZXNzbycpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKGlzQ3JlZGl0ICYmICghZWRpdGluZ1RyYW5zYWN0aW9uIHx8ICF3YXNDcmVkaXQgfHwgIWlzRXhpc3RpbmdJbnN0YWxsbWVudCkpIHtcbiAgICAgICAgICAvLyBDcmlhciBub3ZhcyBwYXJjZWxhcyAobm92byBvdSBjb252ZXJ0ZW5kbyBwYXJhIGNhcnTDo28pXG4gICAgICAgICAgaWYgKCFmb3JtLmNhcmRfaWQgfHwgIWZvcm0uaW5zdGFsbG1lbnRzKSB0aHJvdyBuZXcgRXJyb3IoJ0NhcnTDo28gZSBwYXJjZWxhcyBzw6NvIG9icmlnYXTDs3Jpb3MnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbVFJBTlNBQ1RJT04gTU9EQUxdIENyaWFuZG8gbm92YXMgcGFyY2VsYXMnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBvd25lckZvclJQQyA9IHdpbGxCZVNoYXJlZCA/IGZvcm0ub3duZXJfbmFtZSA6IGZvcm0ub3duZXJfbmFtZTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBbVFJBTlNBQ1RJT04gTU9EQUxdIENyaWFuZG8gcGFyY2VsYXM6Jywge1xuICAgICAgICAgICAgYW1vdW50OiBmb3JtLmFtb3VudCxcbiAgICAgICAgICAgIGluc3RhbGxtZW50czogZm9ybS5pbnN0YWxsbWVudHMsXG4gICAgICAgICAgICBjYXJkX2lkOiBmb3JtLmNhcmRfaWQsXG4gICAgICAgICAgICBvd25lckZvclJQQyxcbiAgICAgICAgICAgIHdpbGxCZVNoYXJlZCxcbiAgICAgICAgICAgIGNvc3RfY2VudGVyX2lkOiBjb3N0Q2VudGVyPy5pZCB8fCBudWxsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHBhcmVudEV4cGVuc2VJZCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnY3JlYXRlX2luc3RhbGxtZW50cycsIHtcbiAgICAgICAgICAgIHBfYW1vdW50OiBwYXJzZUN1cnJlbmN5SW5wdXQoZm9ybS5hbW91bnQpLFxuICAgICAgICAgICAgcF9pbnN0YWxsbWVudHM6IE51bWJlcihmb3JtLmluc3RhbGxtZW50cyksXG4gICAgICAgICAgICBwX2Rlc2NyaXB0aW9uOiBmb3JtLmRlc2NyaXB0aW9uLnRyaW0oKSxcbiAgICAgICAgICAgIHBfZGF0ZTogZm9ybS5kYXRlLFxuICAgICAgICAgICAgcF9jYXJkX2lkOiBmb3JtLmNhcmRfaWQsXG4gICAgICAgICAgICBwX2NhdGVnb3J5X2lkOiBjYXRlZ29yeT8uaWQgfHwgbnVsbCxcbiAgICAgICAgICAgIHBfY29zdF9jZW50ZXJfaWQ6IGNvc3RDZW50ZXI/LmlkIHx8IG51bGwsXG4gICAgICAgICAgICBwX293bmVyOiBvd25lckZvclJQQyxcbiAgICAgICAgICAgIHBfb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb24uaWQsXG4gICAgICAgICAgICBwX3VzZXJfaWQ6IG9yZ1VzZXIuaWQsXG4gICAgICAgICAgICBwX3doYXRzYXBwX21lc3NhZ2VfaWQ6IG51bGwsXG4gICAgICAgICAgICBwX3NwbGl0X3RlbXBsYXRlOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1RSQU5TQUNUSU9OIE1PREFMXSBFcnJvIGFvIGNyaWFyIHBhcmNlbGFzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUUkFOU0FDVElPTiBNT0RBTF0gSW5zdGFsbG1lbnRzIGNyZWF0ZWQsIHBhcmVudF9leHBlbnNlX2lkOicsIHBhcmVudEV4cGVuc2VJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXR1YWxpemFyIG8gb3duZXIgc2UgbmVjZXNzw6FyaW9cbiAgICAgICAgICBpZiAod2lsbEJlU2hhcmVkICYmIG93bmVyRm9yUlBDICE9PSBmb3JtLm93bmVyX25hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgnZXhwZW5zZXMnKVxuICAgICAgICAgICAgICAudXBkYXRlKHsgXG4gICAgICAgICAgICAgICAgb3duZXI6IGZvcm0ub3duZXJfbmFtZS50cmltKCksXG4gICAgICAgICAgICAgICAgaXNfc2hhcmVkOiB0cnVlIFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub3IoYGlkLmVxLiR7cGFyZW50RXhwZW5zZUlkfSxwYXJlbnRfZXhwZW5zZV9pZC5lcS4ke3BhcmVudEV4cGVuc2VJZH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyBbVFJBTlNBQ1RJT04gTU9EQUxdIEVycm8gYW8gYXR1YWxpemFyIG93bmVyIGRhcyBwYXJjZWxhczonLCB1cGRhdGVFcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUUkFOU0FDVElPTiBNT0RBTF0gT3duZXIgYXR1YWxpemFkbyBwYXJhOicsIGZvcm0ub3duZXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2UgZXN0YXZhIGVkaXRhbmRvLCBkZWxldGFyIGEgdHJhbnNhw6fDo28gYW50aWdhXG4gICAgICAgICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgaWYgKGlzRXhpc3RpbmdJbnN0YWxsbWVudCkge1xuICAgICAgICAgICAgICAvLyBEZWxldGFyIHRvZGFzIGFzIHBhcmNlbGFzIGRvIGdydXBvIGFudGlnb1xuICAgICAgICAgICAgICBjb25zdCBvbGRQYXJlbnRJZCA9IGVkaXRpbmdUcmFuc2FjdGlvbi5wYXJlbnRfZXhwZW5zZV9pZCA9PT0gZWRpdGluZ1RyYW5zYWN0aW9uLmlkIFxuICAgICAgICAgICAgICAgID8gZWRpdGluZ1RyYW5zYWN0aW9uLmlkIFxuICAgICAgICAgICAgICAgIDogZWRpdGluZ1RyYW5zYWN0aW9uLnBhcmVudF9leHBlbnNlX2lkO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAuZnJvbSgnZXhwZW5zZXMnKVxuICAgICAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgICAgIC5vcihgaWQuZXEuJHtvbGRQYXJlbnRJZH0scGFyZW50X2V4cGVuc2VfaWQuZXEuJHtvbGRQYXJlbnRJZH1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIERlbGV0YXIgZGVzcGVzYSBzaW1wbGVzXG4gICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2V4cGVuc2VzJykuZGVsZXRlKCkuZXEoJ2lkJywgZWRpdGluZ1RyYW5zYWN0aW9uLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBdHVhbGl6YXIgYXZhaWxhYmxlX2xpbWl0IGRvIGNhcnTDo29cbiAgICAgICAgICBpZiAoZm9ybS5jYXJkX2lkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IGNhcmQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgLmZyb20oJ2NhcmRzJylcbiAgICAgICAgICAgICAgICAuc2VsZWN0KCdhdmFpbGFibGVfbGltaXQsIGNyZWRpdF9saW1pdCcpXG4gICAgICAgICAgICAgICAgLmVxKCdpZCcsIGZvcm0uY2FyZF9pZClcbiAgICAgICAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBdmFpbGFibGUgPSBwYXJzZUZsb2F0KGNhcmQuYXZhaWxhYmxlX2xpbWl0IHx8IGNhcmQuY3JlZGl0X2xpbWl0IHx8IDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEFtb3VudCA9IGVkaXRpbmdUcmFuc2FjdGlvbiA/IE51bWJlcihlZGl0aW5nVHJhbnNhY3Rpb24uYW1vdW50IHx8IDApIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRDaGFuZ2UgPSBwYXJzZUN1cnJlbmN5SW5wdXQoZm9ybS5hbW91bnQpIC0gb2xkQW1vdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F2YWlsYWJsZSA9IE1hdGgubWF4KDAsIGN1cnJlbnRBdmFpbGFibGUgLSBhbW91bnRDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAuZnJvbSgnY2FyZHMnKVxuICAgICAgICAgICAgICAgICAgLnVwZGF0ZSh7IGF2YWlsYWJsZV9saW1pdDogbmV3QXZhaWxhYmxlIH0pXG4gICAgICAgICAgICAgICAgICAuZXEoJ2lkJywgZm9ybS5jYXJkX2lkKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUUkFOU0FDVElPTiBNT0RBTF0gVXBkYXRlZCBjYXJkIGF2YWlsYWJsZV9saW1pdDonLCBuZXdBdmFpbGFibGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChjYXJkVXBkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIEVycm8gYW8gYXR1YWxpemFyIGxpbWl0ZSBkaXNwb27DrXZlbCBkbyBjYXJ0w6NvOicsIGNhcmRVcGRhdGVFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSW5zZXJpciBzcGxpdHMgcGFyYSB0b2RhcyBhcyBwYXJjZWxhc1xuICAgICAgICAgIGlmICh3aWxsQmVTaGFyZWQgJiYgc3BsaXREZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtUUkFOU0FDVElPTiBNT0RBTF0gSW5zZXJpbmRvIHNwbGl0cyBwYXJhIHRvZGFzIGFzIHBhcmNlbGFzLi4uJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYWxsSW5zdGFsbG1lbnRzLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAgICAgICAub3IoYGlkLmVxLiR7cGFyZW50RXhwZW5zZUlkfSxwYXJlbnRfZXhwZW5zZV9pZC5lcS4ke3BhcmVudEV4cGVuc2VJZH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3I7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFtUUkFOU0FDVElPTiBNT0RBTF0gUGFyY2VsYXMgZW5jb250cmFkYXM6JywgYWxsSW5zdGFsbG1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVzYXIgaGVscGVyIHBhcmEgZ2FyYW50aXIgdW5pY2lkYWRlXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVTcGxpdHMgPSBhZ2dyZWdhdGVTcGxpdHMoc3BsaXREZXRhaWxzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3BsaXRzVG9JbnNlcnQgPSBhbGxJbnN0YWxsbWVudHMuZmxhdE1hcChpbnN0YWxsbWVudCA9PiBcbiAgICAgICAgICAgICAgdW5pcXVlU3BsaXRzLm1hcChzcGxpdCA9PiAoe1xuICAgICAgICAgICAgICAgIGV4cGVuc2VfaWQ6IGluc3RhbGxtZW50LmlkLFxuICAgICAgICAgICAgICAgIGNvc3RfY2VudGVyX2lkOiBzcGxpdC5jb3N0X2NlbnRlcl9pZCxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBzcGxpdC5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgIGFtb3VudDogc3BsaXQuYW1vdW50IC8gTnVtYmVyKGZvcm0uaW5zdGFsbG1lbnRzKVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFtUUkFOU0FDVElPTiBNT0RBTF0gVG90YWwgZGUgc3BsaXRzIMO6bmljb3MgYSBpbnNlcmlyOicsIHNwbGl0c1RvSW5zZXJ0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IHNwbGl0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdleHBlbnNlX3NwbGl0cycpXG4gICAgICAgICAgICAgIC5pbnNlcnQoc3BsaXRzVG9JbnNlcnQpO1xuXG4gICAgICAgICAgICBpZiAoc3BsaXRFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1RSQU5TQUNUSU9OIE1PREFMXSBFcnJvIGFvIGluc2VyaXIgc3BsaXRzOicsIHNwbGl0RXJyb3IpO1xuICAgICAgICAgICAgICB0aHJvdyBzcGxpdEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUUkFOU0FDVElPTiBNT0RBTF0gU3BsaXRzIGluc2VyaWRvcyBjb20gc3VjZXNzbycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RSQU5TQUNUSU9OIE1PREFMXSBDb252ZXJzw6NvIHBhcmEgY2FydMOjbyBjb25jbHXDrWRhJyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBkYXRhVG9TYXZlID0ge1xuICAgICAgICAgICAgY29zdF9jZW50ZXJfaWQ6IGNvc3RDZW50ZXI/LmlkIHx8IG51bGwsXG4gICAgICAgICAgICBvd25lcjogZm9ybS5vd25lcl9uYW1lLnRyaW0oKSxcbiAgICAgICAgICAgIGlzX3NoYXJlZDogd2lsbEJlU2hhcmVkLCAvLyBVc2FyIHdpbGxCZVNoYXJlZCBjYWxjdWxhZG8gYWNpbWFcbiAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBjYXRlZ29yeT8uaWQgfHwgbnVsbCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeT8ubmFtZSB8fCBudWxsLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUN1cnJlbmN5SW5wdXQoZm9ybS5hbW91bnQpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGZvcm0uZGVzY3JpcHRpb24udHJpbSgpLFxuICAgICAgICAgICAgZGF0ZTogZm9ybS5kYXRlLFxuICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IGZvcm0ucGF5bWVudF9tZXRob2QsXG4gICAgICAgICAgICBzdGF0dXM6ICdjb25maXJtZWQnLFxuICAgICAgICAgICAgY29uZmlybWVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjb25maXJtZWRfYnk6IG9yZ1VzZXIuaWQsXG4gICAgICAgICAgICBzb3VyY2U6ICdtYW51YWwnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBbVFJBTlNBQ1RJT04gTU9EQUxdIEluc2VydGluZyBleHBlbnNlOicsIGRhdGFUb1NhdmUpO1xuXG4gICAgICAgICAgbGV0IGV4cGVuc2U7XG4gICAgICAgICAgbGV0IGVycm9yO1xuXG4gICAgICAgICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gRWRpdGFyIGRlc3Blc2EgZXhpc3RlbnRlXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgICAgLnVwZGF0ZShkYXRhVG9TYXZlKVxuICAgICAgICAgICAgICAuZXEoJ2lkJywgZWRpdGluZ1RyYW5zYWN0aW9uLmlkKVxuICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlbnNlID0gZGF0YTtcbiAgICAgICAgICAgIGVycm9yID0gdXBkYXRlRXJyb3I7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENyaWFyIG5vdmEgZGVzcGVzYVxuICAgICAgICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgLi4uZGF0YVRvU2F2ZSxcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb24uaWQsXG4gICAgICAgICAgICAgIHVzZXJfaWQ6IG9yZ1VzZXIuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2V4cGVuc2VzJylcbiAgICAgICAgICAgICAgLmluc2VydChpbnNlcnREYXRhKVxuICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlbnNlID0gZGF0YTtcbiAgICAgICAgICAgIGVycm9yID0gaW5zZXJ0RXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUUkFOU0FDVElPTiBNT0RBTF0gRXhwZW5zZSBzYXZlZDonLCBleHBlbnNlKTtcblxuICAgICAgICAgIC8vIEF0dWFsaXphciBhdmFpbGFibGVfbGltaXQgZG8gY2FydMOjbyBzZSBmb3IgY3LDqWRpdG9cbiAgICAgICAgICBpZiAoZm9ybS5wYXltZW50X21ldGhvZCA9PT0gJ2NyZWRpdF9jYXJkJyAmJiBleHBlbnNlLmNhcmRfaWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogY2FyZCB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAuZnJvbSgnY2FyZHMnKVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJ2F2YWlsYWJsZV9saW1pdCwgY3JlZGl0X2xpbWl0JylcbiAgICAgICAgICAgICAgICAuZXEoJ2lkJywgZXhwZW5zZS5jYXJkX2lkKVxuICAgICAgICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF2YWlsYWJsZSA9IHBhcnNlRmxvYXQoY2FyZC5hdmFpbGFibGVfbGltaXQgfHwgY2FyZC5jcmVkaXRfbGltaXQgfHwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50Q2hhbmdlID0gZWRpdGluZ1RyYW5zYWN0aW9uIFxuICAgICAgICAgICAgICAgICAgPyAocGFyc2VDdXJyZW5jeUlucHV0KGZvcm0uYW1vdW50KSAtIE51bWJlcihlZGl0aW5nVHJhbnNhY3Rpb24uYW1vdW50IHx8IDApKSAvLyBEaWZlcmVuw6dhIHNlIGVkaXRhbmRvXG4gICAgICAgICAgICAgICAgICA6IHBhcnNlQ3VycmVuY3lJbnB1dChmb3JtLmFtb3VudCk7IC8vIFZhbG9yIHRvdGFsIHNlIGNyaWFuZG9cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBdmFpbGFibGUgPSBNYXRoLm1heCgwLCBjdXJyZW50QXZhaWxhYmxlIC0gYW1vdW50Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgICAgLmZyb20oJ2NhcmRzJylcbiAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBhdmFpbGFibGVfbGltaXQ6IG5ld0F2YWlsYWJsZSB9KVxuICAgICAgICAgICAgICAgICAgLmVxKCdpZCcsIGV4cGVuc2UuY2FyZF9pZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbVFJBTlNBQ1RJT04gTU9EQUxdIFVwZGF0ZWQgY2FyZCBhdmFpbGFibGVfbGltaXQ6JywgbmV3QXZhaWxhYmxlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoY2FyZFVwZGF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyBFcnJvIGFvIGF0dWFsaXphciBsaW1pdGUgZGlzcG9uw612ZWwgZG8gY2FydMOjbzonLCBjYXJkVXBkYXRlRXJyb3IpO1xuICAgICAgICAgICAgICAvLyBOw6NvIGZhbGhhciBwb3IgY2F1c2EgZGlzc29cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod2lsbEJlU2hhcmVkICYmIHNwbGl0RGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBTZSBlc3TDoSBlZGl0YW5kbywgZGVsZXRhciBzcGxpdHMgYW50aWdvcyBwcmltZWlyb1xuICAgICAgICAgICAgaWYgKGVkaXRpbmdUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAuZnJvbSgnZXhwZW5zZV9zcGxpdHMnKVxuICAgICAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgICAgIC5lcSgnZXhwZW5zZV9pZCcsIGVkaXRpbmdUcmFuc2FjdGlvbi5pZCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoZGVsZXRlRXJyb3IpIHRocm93IGRlbGV0ZUVycm9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHYXJhbnRpciB1bmljaWRhZGUgcG9yIGNvc3RfY2VudGVyX2lkIGFudGVzIGRlIGluc2VyaXJcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVNwbGl0cyA9IGFnZ3JlZ2F0ZVNwbGl0cyhzcGxpdERldGFpbHMpO1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRzVG9JbnNlcnQgPSB1bmlxdWVTcGxpdHMubWFwKHNwbGl0ID0+ICh7XG4gICAgICAgICAgICAgIGV4cGVuc2VfaWQ6IGV4cGVuc2UuaWQsXG4gICAgICAgICAgICAgIGNvc3RfY2VudGVyX2lkOiBzcGxpdC5jb3N0X2NlbnRlcl9pZCxcbiAgICAgICAgICAgICAgcGVyY2VudGFnZTogc3BsaXQucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgYW1vdW50OiBzcGxpdC5hbW91bnRcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gW1RSQU5TQUNUSU9OIE1PREFMXSBJbnNlcmluZG8gc3BsaXRzIMO6bmljb3M6Jywgc3BsaXRzVG9JbnNlcnQubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFtUUkFOU0FDVElPTiBNT0RBTF0gUGF5bG9hZCBjb21wbGV0bzonLCBKU09OLnN0cmluZ2lmeShzcGxpdHNUb0luc2VydCwgbnVsbCwgMikpO1xuXG4gICAgICAgICAgICBjb25zdCB7IGVycm9yOiBzcGxpdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgnZXhwZW5zZV9zcGxpdHMnKVxuICAgICAgICAgICAgICAuaW5zZXJ0KHNwbGl0c1RvSW5zZXJ0KTtcblxuICAgICAgICAgICAgaWYgKHNwbGl0RXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtUUkFOU0FDVElPTiBNT0RBTF0gRXJybyBhbyBpbnNlcmlyIHNwbGl0czonLCBzcGxpdEVycm9yKTtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtUUkFOU0FDVElPTiBNT0RBTF0gUGF5bG9hZCBxdWUgZmFsaG91OicsIEpTT04uc3RyaW5naWZ5KHNwbGl0c1RvSW5zZXJ0LCBudWxsLCAyKSk7XG4gICAgICAgICAgICAgIHRocm93IHNwbGl0RXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBcbiAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgY29uc3QgYWN0aW9uID0gZWRpdGluZ1RyYW5zYWN0aW9uID8gJ2F0dWFsaXphZGEnIDogJ3NhbHZhJztcbiAgICAgIHN1Y2Nlc3MoYERlc3Blc2EgJHthY3Rpb259IGNvbSBzdWNlc3NvIWApO1xuICAgICAgb25TdWNjZXNzPy4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW1RSQU5TQUNUSU9OIE1PREFMXSBFcnJvIGFvIHNhbHZhcjonLCBlKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGU/Lm1lc3NhZ2UgfHwgZT8uZXJyb3I/Lm1lc3NhZ2UgfHwgJ0Vycm8gZGVzY29uaGVjaWRvJztcbiAgICAgIHNob3dFcnJvcihgRXJybyBhbyBzYWx2YXI6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtMiBzbTpwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3cteGwgdy1mdWxsIG1heC13LW1kIHNtOm1heC13LWxnIG1kOm1heC13LXhsIGxnOm1heC13LTJ4bCB4bDptYXgtdy00eGwgMnhsOm1heC13LTV4bCBtYXgtaC1bOTB2aF0gc206bWF4LWgtWzk1dmhdIGJvcmRlciBib3JkZXItZmxpZ2h0LWJsdWUvMjAgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICB7LyogSGVhZGVyIGZpeG8gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBzbTpwLTUgbWQ6cC02IHBiLTMgc206cGItNCBtZDpwYi00IGJnLWZsaWdodC1ibHVlLzUgcm91bmRlZC10LXhsIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTkwMCBmb250LXNlbWlib2xkIHRleHQtYmFzZSBzbTp0ZXh0LWxnIG1kOnRleHQteGxcIj5cbiAgICAgICAgICAgIHtlZGl0aW5nVHJhbnNhY3Rpb24gPyAnRWRpdGFyIERlc3Blc2EnIDogJ05vdmEgRGVzcGVzYSd9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICBzaXplPVwiaWNvblwiIFxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBDb250ZcO6ZG8gY29tIHNjcm9sbCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCBzbTpwLTUgbWQ6cC02IHB0LTBcIj5cbiAgICAgICAgICB7LyogVG9nZ2xlIGRlIHRpcG8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIGdhcC00IG1kOmdhcC02IG1iLTQgbWQ6bWItNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZDpjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPkRlc2NyacOnw6NvICo8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsgLi4uZm9ybSwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFeDogTWVyY2FkbywgRmFybcOhY2lhXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5WYWxvciAqPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTUwMFwiPlIkPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uYW1vdW50fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDdXJyZW5jeUNoYW5nZShlLCAodmFsdWUpID0+IHNldEZvcm0oeyAuLi5mb3JtLCBhbW91bnQ6IHZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2FyYW50aXIgZm9ybWF0YcOnw6NvIGNvbXBsZXRhIGFvIHNhaXIgZG8gY2FtcG9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRGb3JtKHsgLi4uZm9ybSwgYW1vdW50OiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VDdXJyZW5jeUlucHV0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBwYXJzZWQudG9Mb2NhbGVTdHJpbmcoJ3B0LUJSJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRGb3JtKHsgLi4uZm9ybSwgYW1vdW50OiBmb3JtYXR0ZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Rm9ybSh7IC4uLmZvcm0sIGFtb3VudDogJycgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1mbGlnaHQtYmx1ZSBmb2N1czpib3JkZXItZmxpZ2h0LWJsdWVcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwLDAwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5EYXRhICo8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uZGF0ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oeyAuLi5mb3JtLCBkYXRlOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1mbGlnaHQtYmx1ZSBmb2N1czpib3JkZXItZmxpZ2h0LWJsdWVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBDYXRlZ29yaWEgKi99XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5DYXRlZ29yaWE8L2xhYmVsPlxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uY2F0ZWdvcnlfaWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsgLi4uZm9ybSwgY2F0ZWdvcnlfaWQ6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWNpb25lLi4uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAge1suLi5leHBlbnNlQ2F0ZWdvcmllc10uc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lLCAncHQtQlInKSkubWFwKGNhdCA9PiAoXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2F0LmlkfSB2YWx1ZT17Y2F0LmlkfT57Y2F0Lm5hbWV9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5Gb3JtYSBkZSBQYWdhbWVudG88L2xhYmVsPlxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0ucGF5bWVudF9tZXRob2R9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsgLi4uZm9ybSwgcGF5bWVudF9tZXRob2Q6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY2FzaFwiPkRpbmhlaXJvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRlYml0X2NhcmRcIj5DYXJ0w6NvIGRlIETDqWJpdG88L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicGl4XCI+UElYPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNyZWRpdF9jYXJkXCI+Q2FydMOjbyBkZSBDcsOpZGl0bzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJib2xldG9cIj5Cb2xldG88L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYmFua190cmFuc2ZlclwiPlRyYW5zZmVyw6puY2lhIEJhbmPDoXJpYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJvdGhlclwiPk91dHJvczwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7IWlzU29sb1VzZXIgPyAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+UmVzcG9uc8OhdmVsICo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtLm93bmVyX25hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oeyAuLi5mb3JtLCBvd25lcl9uYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjaW9uZS4uLjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAge293bmVyT3B0aW9ucy5tYXAobyA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtvLmlkID8/IG8ubmFtZX0gdmFsdWU9e28ubmFtZX0+e28ubmFtZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgICAgICB7LyogQ2FtcG9zIGVzcGVjw61maWNvcyBkZSBkZXNwZXNhICovfVxuICAgICAgICAgICAge2lzQ3JlZGl0ICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+Q2FydMOjbyAqPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uY2FyZF9pZH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsgLi4uZm9ybSwgY2FyZF9pZDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjYXJkcy5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY2lvbmUuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAge2NhcmRzLm1hcChjID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Yy5pZH0gdmFsdWU9e2MuaWR9PntjLm5hbWV9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICB7Y2FyZHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBOZW5odW0gY2FydMOjbyBkZSBjcsOpZGl0byBjYWRhc3RyYWRvLiBDYWRhc3RyZSB1bSBjYXJ0w6NvIHByaW1laXJvLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5QYXJjZWxhcyAqPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uaW5zdGFsbG1lbnRzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oeyAuLi5mb3JtLCBpbnN0YWxsbWVudHM6IE51bWJlcihlLnRhcmdldC52YWx1ZSkgfSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWZsaWdodC1ibHVlIGZvY3VzOmJvcmRlci1mbGlnaHQtYmx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMiB9KS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17aSsxfSB2YWx1ZT17aSsxfT57aSsxfXg8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENvbmZpZ3VyYcOnw6NvIGRlIERpdmlzw6NvICovfVxuICAgICAgICAgIHtpc1NoYXJlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcC00IGJnLWdyYXktNTAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPkRpdmlzw6NvPC9oND5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNob3dTcGxpdENvbmZpZyA/IHJlc2V0VG9EZWZhdWx0U3BsaXQoKSA6IHNldFNob3dTcGxpdENvbmZpZyh0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1mbGlnaHQtYmx1ZSBob3Zlcjp0ZXh0LWZsaWdodC1ibHVlLzgwIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2hvd1NwbGl0Q29uZmlnID8gJ1VzYXIgUGFkcsOjbycgOiAnUGVyc29uYWxpemFyJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge3Nob3dTcGxpdENvbmZpZyA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAge3NwbGl0RGV0YWlscy5tYXAoKHNwbGl0LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c3BsaXQuY29zdF9jZW50ZXJfaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHJvdW5kZWQtZnVsbCBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogc3BsaXQuY29sb3IgfX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj57c3BsaXQubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NwbGl0LnBlcmNlbnRhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlU3BsaXRQZXJjZW50YWdlKGluZGV4LCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB8fCAwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0yMCBweC0yIHB5LTEgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQtc20gZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZmxpZ2h0LWJsdWUgZm9jdXM6Ym9yZGVyLWZsaWdodC1ibHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdy02XCI+JTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCB3LTI0IHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUiQge3NwbGl0LmFtb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTMgYm9yZGVyLXQgYm9yZGVyLWdyYXktMzAwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5Ub3RhbDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1ib2xkICR7dG90YWxQZXJjZW50YWdlID09PSAxMDAgPyAndGV4dC1ncmVlbi02MDAnIDogJ3RleHQtcmVkLTYwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAge3RvdGFsUGVyY2VudGFnZS50b0ZpeGVkKDIpfSVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIHtzcGxpdERldGFpbHMubWFwKChzcGxpdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c3BsaXQuY29zdF9jZW50ZXJfaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMyBoLTMgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzcGxpdC5jb2xvciB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDBcIj57c3BsaXQubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NwbGl0LnBlcmNlbnRhZ2V9JSAoUiQge3NwbGl0LmFtb3VudC50b0ZpeGVkKDIpfSlcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBGb290ZXIgZml4byAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGp1c3RpZnktZW5kIHNwYWNlLXktMiBzbTpzcGFjZS15LTAgc206c3BhY2UteC0zIHAtNCBzbTpwLTUgbWQ6cC02IHB0LTMgc206cHQtNCBtZDpwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBiZy1ncmF5LTUwIHJvdW5kZWQtYi14bCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvIGJvcmRlci1ncmF5LTMwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgbWluLWgtWzQ0cHhdXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDYW5jZWxhclxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9XG4gICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nIHx8ICFpc0Zvcm1WYWxpZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG8gYmctZmxpZ2h0LWJsdWUgaG92ZXI6YmctZmxpZ2h0LWJsdWUvOTAgYm9yZGVyLTIgYm9yZGVyLWZsaWdodC1ibHVlIHRleHQtd2hpdGUgc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1tZCBtaW4taC1bNDRweF1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzYXZpbmcgPyAnU2FsdmFuZG8uLi4nIDogJ1NhbHZhcid9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJzdXBhYmFzZSIsInVzZU9yZ2FuaXphdGlvbiIsIkNhcmQiLCJDYXJkQ29udGVudCIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJCdXR0b24iLCJYIiwiVXNlcnMiLCJVc2VyIiwidXNlTm90aWZpY2F0aW9uQ29udGV4dCIsImdldEJyYXppbFRvZGF5U3RyaW5nIiwiaGFuZGxlQ3VycmVuY3lDaGFuZ2UiLCJwYXJzZUN1cnJlbmN5SW5wdXQiLCJhZ2dyZWdhdGVTcGxpdHMiLCJzcGxpdHMiLCJsZW5ndGgiLCJhZ2dyZWdhdGVkIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwiYWNjIiwic3BsaXQiLCJpZCIsImNvc3RfY2VudGVyX2lkIiwibmFtZSIsImNvbG9yIiwicGVyY2VudGFnZSIsImFtb3VudCIsIk51bWJlciIsImNvbnNvbGUiLCJsb2ciLCJUcmFuc2FjdGlvbk1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VjY2VzcyIsImVkaXRpbmdUcmFuc2FjdGlvbiIsImNhdGVnb3JpZXMiLCJvcmdhbml6YXRpb24iLCJ1c2VyIiwib3JnVXNlciIsImNvc3RDZW50ZXJzIiwiaW5jb21lQ2F0ZWdvcmllcyIsImJ1ZGdldENhdGVnb3JpZXMiLCJpc1NvbG9Vc2VyIiwibG9hZGluZyIsIm9yZ0xvYWRpbmciLCJzdWNjZXNzIiwiZXJyb3IiLCJzaG93RXJyb3IiLCJ3YXJuaW5nIiwiY2FyZHMiLCJzZXRDYXJkcyIsInNhdmluZyIsInNldFNhdmluZyIsImZvcm0iLCJzZXRGb3JtIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwiY2F0ZWdvcnlfaWQiLCJvd25lcl9uYW1lIiwicGF5bWVudF9tZXRob2QiLCJjYXJkX2lkIiwiaW5zdGFsbG1lbnRzIiwic3BsaXREZXRhaWxzUmF3Iiwic2V0U3BsaXREZXRhaWxzUmF3Iiwic2V0U3BsaXREZXRhaWxzIiwibmV3U3BsaXRzIiwiZGVkdXBsaWNhdGVkIiwic3BsaXREZXRhaWxzIiwic2hvd1NwbGl0Q29uZmlnIiwic2V0U2hvd1NwbGl0Q29uZmlnIiwidXNlckNvc3RDZW50ZXIiLCJmaW5kIiwiY2MiLCJ1c2VyX2lkIiwiaXNfYWN0aXZlIiwiaXNDcmVkaXQiLCJpc1NoYXJlZCIsInJhd093bmVyTmFtZSIsImNvc3RfY2VudGVyIiwib3duZXIiLCJpc19zaGFyZWQiLCJvd25lck5hbWUiLCJub3JtYWxpemUiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJtYXRjaGluZ0NlbnRlciIsIm5vcm1hbGl6ZWRDQyIsIm5vcm1hbGl6ZWRSYXciLCJhbW91bnRUb1Nob3ciLCJpbnN0YWxsbWVudHNUb1Nob3ciLCJkYXRlVG9TaG93IiwiaW5zdGFsbG1lbnRfaW5mbyIsInRvdGFsX2Ftb3VudCIsInRvdGFsX2luc3RhbGxtZW50cyIsImZldGNoRmlyc3REYXRlIiwicGFyZW50X2V4cGVuc2VfaWQiLCJwYXJlbnRJZCIsImRhdGEiLCJhbGxJbnN0YWxsbWVudHMiLCJmZXRjaEluc3RhbGxtZW50c0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsInRoZW4iLCJmaXJzdERhdGUiLCJ0b1N0cmluZyIsImV4cGVuc2Vfc3BsaXRzIiwicmVzZXRGb3JtIiwibG9hZCIsImNhcmRzRGF0YSIsImVxIiwicHJldiIsImV4cGVuc2VDYXRlZ29yaWVzIiwiZmlsdGVyIiwiY2F0IiwidHlwZSIsIm93bmVyT3B0aW9ucyIsImRlZmF1bHRfc3BsaXRfcGVyY2VudGFnZSIsImxpbmtlZF9lbWFpbCIsImFsbENlbnRlcnMiLCJtYXAiLCJwdXNoIiwiYWN0aXZlQ2VudGVycyIsImRlZmF1bHRTcGxpdHMiLCJwYXJzZUZsb2F0IiwidG90YWxBbW91bnQiLCJ1cGRhdGVkU3BsaXRzIiwidG90YWxQZXJjZW50YWdlIiwic3VtIiwidXBkYXRlU3BsaXRQZXJjZW50YWdlIiwiaW5kZXgiLCJuZXdQZXJjZW50YWdlIiwiaSIsInJlc2V0VG9EZWZhdWx0U3BsaXQiLCJpc0Zvcm1WYWxpZCIsImhhc0Jhc2ljIiwiQm9vbGVhbiIsInRyaW0iLCJhbW91bnRWYWx1ZSIsIk1hdGgiLCJhYnMiLCJoYW5kbGVTYXZlIiwid2lsbEJlU2hhcmVkIiwic2VsZWN0ZWRPcHRpb24iLCJvIiwiY2F0ZWdvcnkiLCJjIiwiRXJyb3IiLCJpc09wdGlvblNoYXJlZCIsImNvc3RDZW50ZXIiLCJvcmdhbml6YXRpb25fbmFtZSIsInNwbGl0RGV0YWlsc19jb3VudCIsImlzRXhpc3RpbmdJbnN0YWxsbWVudCIsIndhc0NyZWRpdCIsImN1cnJlbnRJbnN0YWxsbWVudHMiLCJjb3VudEVycm9yIiwiY3VycmVudEluc3RhbGxtZW50Q291bnQiLCJuZXdJbnN0YWxsbWVudENvdW50IiwiZmlyc3RJbnN0YWxsbWVudCIsIm1pbiIsImN1cnIiLCJmaXJzdEluc3RhbGxtZW50RGF0YSIsImZldGNoRmlyc3RFcnJvciIsInNpbmdsZSIsIm9yaWdpbmFsRmlyc3REYXRlIiwiZGF0ZUNoYW5nZWQiLCJyZWFzb24iLCJkZWxldGVFcnJvciIsImRlbGV0ZSIsIm93bmVyRm9yUlBDIiwicGFyZW50RXhwZW5zZUlkIiwicnBjRXJyb3IiLCJycGMiLCJwX2Ftb3VudCIsInBfaW5zdGFsbG1lbnRzIiwicF9kZXNjcmlwdGlvbiIsInBfZGF0ZSIsInBfY2FyZF9pZCIsInBfY2F0ZWdvcnlfaWQiLCJwX2Nvc3RfY2VudGVyX2lkIiwicF9vd25lciIsInBfb3JnYW5pemF0aW9uX2lkIiwicF91c2VyX2lkIiwicF93aGF0c2FwcF9tZXNzYWdlX2lkIiwicF9zcGxpdF90ZW1wbGF0ZSIsIm5ld0luc3RhbGxtZW50cyIsImZldGNoRXJyb3IiLCJzcGxpdHNUb0luc2VydCIsImZsYXRNYXAiLCJpbnN0YWxsbWVudCIsImV4cGVuc2VfaWQiLCJzcGxpdEVycm9yIiwiaW5zZXJ0IiwidXBkYXRlUmVzdWx0IiwidXBkYXRlRXJyb3IiLCJwX3BhcmVudF9leHBlbnNlX2lkIiwicF9pc19zaGFyZWQiLCJwX3RvdGFsX2Ftb3VudCIsImluc3RhbGxtZW50SWRzIiwiaW5zdGFsbG1lbnRfaWRzIiwiZGVsZXRlU3BsaXRzRXJyb3IiLCJpbiIsIndhcm4iLCJpbnN0YWxsbWVudElkIiwiaW5zZXJ0U3BsaXRzRXJyb3IiLCJ1cGRhdGUiLCJvbGRQYXJlbnRJZCIsImNhcmQiLCJjdXJyZW50QXZhaWxhYmxlIiwiYXZhaWxhYmxlX2xpbWl0IiwiY3JlZGl0X2xpbWl0Iiwib2xkQW1vdW50IiwiYW1vdW50Q2hhbmdlIiwibmV3QXZhaWxhYmxlIiwibWF4IiwiY2FyZFVwZGF0ZUVycm9yIiwidW5pcXVlU3BsaXRzIiwiZGF0YVRvU2F2ZSIsInN0YXR1cyIsImNvbmZpcm1lZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNvbmZpcm1lZF9ieSIsInNvdXJjZSIsImV4cGVuc2UiLCJpbnNlcnREYXRhIiwib3JnYW5pemF0aW9uX2lkIiwiaW5zZXJ0RXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW9uIiwiZSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInZhcmlhbnQiLCJzaXplIiwib25DbGljayIsImxhYmVsIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJzcGFuIiwib25CbHVyIiwicGFyc2VkIiwiZm9ybWF0dGVkIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJvcHRpb24iLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwiZGlzYWJsZWQiLCJwIiwiQXJyYXkiLCJfIiwiaDQiLCJidXR0b24iLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInN0ZXAiLCJ0b0ZpeGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/TransactionModal.jsx\n"));

/***/ })

});